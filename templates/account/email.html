{% load i18n %}
{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Email Settings</title>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        body{
            font-family:'DM Sans',sans-serif;
            background:#f6f7fb;
            margin:0;
        }

        .container{
            max-width:800px;
            margin:60px auto;
            background:white;
            padding:40px;
            border-radius:12px;
            box-shadow:0 10px 30px rgba(0,0,0,.08);
        }

        h1{
            font-size:28px;
            margin-bottom:25px;
        }

        .email-card{
            background:#fafafa;
            padding:18px;
            border-radius:10px;
            margin-bottom:20px;
            border:1px solid #eee;
        }

        .btn{
            padding:10px 16px;
            border:none;
            border-radius:8px;
            cursor:pointer;
            font-weight:600;
            margin-right:8px;
        }

        .btn-dark{ background:#111; color:white; }
        .btn-light{ background:#eee; }

        input{
            padding:10px;
            border-radius:6px;
            border:1px solid #ccc;
            width:250px;
        }

        .menu{
            margin-bottom:30px;
        }

        .menu a{
            text-decoration:none;
            margin-right:15px;
            font-weight:600;
            color:#333;
        }

        .badge{
            background:#ffe9e9;
            color:#d10000;
            padding:4px 8px;
            border-radius:6px;
            font-size:12px;
            margin-left:10px;
        }
    </style>
</head>

<body>

<div class="container">

    <!-- top menu -->
    <div class="menu">
        <a href="/accounts/email/">Email</a>
        <a href="/accounts/password/change/">Password</a>
        <a href="/accounts/social/connections/">Connections</a>
        <a href="/accounts/logout/">Logout</a>
    </div>

    <h1>Email Addresses</h1>

    {% if user.emailaddress_set.all %}
        {% for email in user.emailaddress_set.all %}
        <div class="email-card">
            <strong>{{ email.email }}</strong>

            {% if not email.verified %}
                <span class="badge">Unverified</span>
            {% endif %}

            <div style="margin-top:12px;">
                <form method="post" action="{% url 'account_email' %}">
                    {% csrf_token %}
                    <input type="hidden" name="email" value="{{ email.email }}">
                    <button class="btn btn-light" name="action_primary">Make Primary</button>
                    <button class="btn btn-light" name="action_send">Re-send Verification</button>
                    <button class="btn btn-light" name="action_remove">Remove</button>
                </form>
            </div>
        </div>
        {% endfor %}
    {% endif %}

    <h2>Add Email Address</h2>

    <form method="post" action="{% url 'account_email' %}">
        {% csrf_token %}
        <input type="email" name="email" placeholder="Enter new email" required>
        <button class="btn btn-dark" type="submit" name="action_add">Add Email</button>
    </form>

</div>

</body>
</html>
