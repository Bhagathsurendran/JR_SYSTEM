{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>InternHub — HR Dashboard</title>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,300;9..40,400;9..40,500;9..40,600;9..40,700;9..40,800;9..40,900&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --black:      #0a0a0a;
      --near-black: #111111;
      --dark:       #1a1a1a;
      --mid:        #3d3d3d;
      --subtle:     #6b6b6b;
      --muted:      #a0a0a0;
      --light:      #d4d4d4;
      --ghost:      #ebebeb;
      --off:        #f5f5f5;
      --white:      #fafafa;
      --pure:       #ffffff;
      --danger:     #dc2626;
      --danger-bg:  #fef2f2;
      --sidebar-w:  228px;
      --nav-h:      58px;
    }

    body {
      font-family: 'DM Sans', sans-serif;
      background: var(--white);
      color: var(--black);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* ══════════════════════════
       SIDEBAR
    ══════════════════════════ */
    .sidebar {
      position: fixed; left: 0; top: 0; bottom: 0;
      width: var(--sidebar-w);
      background: var(--black);
      display: flex; flex-direction: column;
      z-index: 200; border-right: 1px solid var(--dark);
      transition: transform .3s ease;
    }

    .sidebar-logo {
      display: flex; align-items: center; gap: 10px;
      padding: 22px 24px 20px;
      border-bottom: 1px solid var(--dark);
    }
    .logo-mark {
      width: 30px; height: 30px; background: var(--white);
      display: flex; align-items: center; justify-content: center;
      font-size: 12px; font-weight: 900; color: var(--black); flex-shrink: 0;
    }
    .logo-name { font-size: 16px; font-weight: 800; color: var(--white); letter-spacing: -.03em; }
    .logo-hr-badge {
      margin-left: auto; font-size: 8.5px; font-weight: 800;
      letter-spacing: .1em; text-transform: uppercase;
      background: var(--white); color: var(--black);
      padding: 2px 7px;
    }

    .nav-section-label {
      padding: 20px 24px 8px;
      font-size: 9px; font-weight: 700;
      letter-spacing: .1em; text-transform: uppercase;
      color: var(--subtle);
    }

    .nav-item {
      display: flex; align-items: center; gap: 10px;
      padding: 10px 24px;
      cursor: pointer; font-size: 13px; font-weight: 400;
      color: var(--muted); transition: all .15s;
      border: none; background: none;
      width: 100%; text-align: left;
    }
    .nav-item:hover { color: var(--white); background: var(--dark); }
    .nav-item.active {
      color: var(--white); font-weight: 600;
      background: var(--near-black);
      border-left: 2px solid var(--white);
      padding-left: 22px;
    }
    .nav-item svg { flex-shrink: 0; opacity: .6; }
    .nav-item.active svg { opacity: 1; }
    .n-badge {
      margin-left: auto; min-width: 18px; height: 18px;
      font-size: 10px; font-weight: 700;
      display: flex; align-items: center; justify-content: center; padding: 0 5px;
    }
    .n-dark { background: var(--dark); color: var(--light); }
    .n-white { background: var(--white); color: var(--black); }

    .sidebar-footer {
      margin-top: auto; border-top: 1px solid var(--dark);
      position: relative;
    }
    .profile-popup {
      position: absolute; bottom: 100%; left: 0; right: 0;
      background: var(--near-black); border-top: 1px solid var(--dark);
      overflow: hidden; max-height: 0; opacity: 0;
      transform: translateY(6px);
      transition: max-height .25s ease, opacity .2s ease, transform .2s ease;
      pointer-events: none;
    }
    .sidebar-footer:hover .profile-popup,
    .sidebar-footer:focus-within .profile-popup {
      max-height: 200px; opacity: 1;
      transform: translateY(0); pointer-events: all;
    }
    .popup-item {
      display: flex; align-items: center; gap: 10px;
      padding: 11px 20px; font-size: 13px; font-weight: 500; color: var(--muted);
      cursor: pointer; border: none; background: none;
      width: 100%; text-align: left; transition: all .15s;
      border-bottom: 1px solid var(--dark);
    }
    .popup-item:last-child { border-bottom: none; }
    .popup-item:hover { background: var(--dark); color: var(--white); }
    .popup-item.danger { color: #f87171; }
    .popup-item.danger:hover { background: rgba(248,113,113,.08); color: #fca5a5; }
    .user-tile {
      display: flex; align-items: center; gap: 10px;
      padding: 14px 20px; cursor: pointer; transition: background .15s;
    }
    .sidebar-footer:hover .user-tile { background: var(--dark); }
    .u-avatar {
      width: 30px; height: 30px; background: var(--white);
      display: flex; align-items: center; justify-content: center;
      font-size: 11px; font-weight: 700; color: var(--black); flex-shrink: 0;
    }
    .u-name  { font-size: 12.5px; font-weight: 600; color: var(--white); line-height: 1.2; }
    .u-role  { font-size: 10px; color: var(--subtle); margin-top: 1px; }
    .u-chevron { margin-left: auto; color: var(--subtle); transition: transform .2s; }
    .sidebar-footer:hover .u-chevron { transform: rotate(180deg); }

    /* ══════════════════════════
       TOP NAV
    ══════════════════════════ */
    .topnav {
      position: fixed; top: 0; left: var(--sidebar-w); right: 0;
      height: var(--nav-h); background: var(--pure);
      border-bottom: 1px solid var(--ghost);
      display: flex; align-items: center;
      padding: 0 32px; gap: 14px; z-index: 100;
    }
    .search-bar {
      display: flex; align-items: center; gap: 8px;
      background: var(--off); border: 1px solid var(--ghost);
      padding: 8px 14px; flex: 1; max-width: 360px; transition: all .2s;
    }
    .search-bar:focus-within { border-color: var(--black); background: var(--pure); }
    .search-bar input {
      border: none; background: transparent; outline: none;
      font-family: 'DM Sans', sans-serif; font-size: 13px; color: var(--black); width: 100%;
    }
    .search-bar input::placeholder { color: var(--muted); }
    .topnav-right { margin-left: auto; display: flex; align-items: center; gap: 8px; }
    .icon-btn {
      width: 34px; height: 34px; border: none;
      background: transparent; cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      color: var(--mid); transition: background .15s; position: relative;
    }
    .icon-btn:hover { background: var(--off); }
    .notif-dot {
      position: absolute; top: 6px; right: 6px;
      width: 6px; height: 6px;
      background: var(--black); border: 2px solid var(--pure);
    }
    .btn {
      display: inline-flex; align-items: center; gap: 7px;
      height: 36px; padding: 0 18px;
      font-family: 'DM Sans', sans-serif; font-size: 12px; font-weight: 700;
      cursor: pointer; border: none; letter-spacing: 0; transition: all .15s;
    }
    .btn-dark { background: var(--black); color: var(--white); }
    .btn-dark:hover { background: var(--dark); transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,0,0,.15); }
    .btn-outline { background: var(--pure); color: var(--black); border: 1px solid var(--light); }
    .btn-outline:hover { background: var(--off); border-color: var(--mid); }
    .btn-ghost { background: transparent; color: var(--mid); border: 1px solid var(--ghost); }
    .btn-ghost:hover { border-color: var(--light); color: var(--black); }
    .btn-approve { background: var(--black); color: var(--white); }
    .btn-approve:hover { background: var(--dark); }
    .btn-reject { background: transparent; color: var(--muted); border: 1px solid var(--ghost); }
    .btn-reject:hover { border-color: var(--light); color: var(--mid); }
    .btn-danger { background: var(--danger); color: var(--white); border: none; }
    .btn-danger:hover { background: #b91c1c; transform: translateY(-1px); }
    .hamburger { display: none; }

    /* ══════════════════════════
       LAYOUT
    ══════════════════════════ */
    .main { margin-left: var(--sidebar-w); padding-top: var(--nav-h); min-height: 100vh; }
    .page { display: none; padding: 36px 36px 64px; animation: fadeUp .2s ease both; }
    .page.active { display: block; }

    @keyframes fadeUp { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }

    /* ══════════════════════════
       PAGE HEADER
    ══════════════════════════ */
    .ph {
      display: flex; align-items: flex-start; justify-content: space-between;
      gap: 16px; flex-wrap: wrap; margin-bottom: 32px;
      padding-bottom: 24px; border-bottom: 1px solid var(--ghost);
    }
    .ph-title {
      font-size: clamp(24px, 3vw, 36px); font-weight: 900;
      letter-spacing: -.04em; color: var(--black); line-height: 1.05;
    }
    .ph-sub { font-size: 11px; color: var(--muted); margin-top: 6px; }
    .ph-actions { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }

    /* ══════════════════════════
       STAT CARDS
    ══════════════════════════ */
    .stats-row {
      display: grid; grid-template-columns: repeat(4, 1fr);
      gap: 1px; margin-bottom: 32px;
      background: var(--ghost); border: 1px solid var(--ghost);
    }
    @media(max-width:900px) { .stats-row { grid-template-columns: repeat(2,1fr); } }

    .stat-card {
      background: var(--pure); padding: 26px 26px 22px;
      transition: background .2s; position: relative; overflow: hidden;
    }
    .stat-card:hover { background: var(--off); }
    .stat-top { display: flex; align-items: center; justify-content: space-between; margin-bottom: 14px; }
    .stat-lbl { font-size: 10px; font-weight: 700; text-transform: uppercase; color: var(--muted); letter-spacing: .04em; }
    .stat-pill { font-size: 10px; font-weight: 600; padding: 3px 8px; }
    .pill-dark { background: var(--black); color: var(--white); }
    .pill-outline { border: 1px solid var(--light); color: var(--mid); }
    .pill-ghost { background: var(--off); color: var(--subtle); border: 1px solid var(--ghost); }
    .stat-val { font-size: 42px; font-weight: 900; letter-spacing: -.05em; color: var(--black); line-height: 1; }
    .stat-foot { font-size: 11px; color: var(--muted); margin-top: 8px; }

    /* ══════════════════════════
       TABS
    ══════════════════════════ */
    .tabs {
      display: flex; align-items: center;
      border-bottom: 1px solid var(--ghost); margin-bottom: 24px;
      overflow-x: auto;
    }
    .tab {
      padding: 10px 20px; font-size: 13px; font-weight: 500;
      color: var(--muted); cursor: pointer; border: none; background: none;
      border-bottom: 2px solid transparent; margin-bottom: -1px;
      transition: all .15s; display: flex; align-items: center; gap: 7px;
      font-family: 'DM Sans', sans-serif; white-space: nowrap;
    }
    .tab:hover { color: var(--dark); }
    .tab.active { color: var(--black); border-bottom-color: var(--black); font-weight: 700; }
    .tab-count {
      font-size: 10px; font-weight: 700;
      background: var(--off); color: var(--mid);
      padding: 2px 7px; border: 1px solid var(--ghost);
    }
    .tab.active .tab-count { background: var(--black); color: var(--white); border-color: var(--black); }

    /* ══════════════════════════
       SEARCH / FILTER BAR
    ══════════════════════════ */
    .sf-bar { display: flex; align-items: center; gap: 10px; margin-bottom: 24px; flex-wrap: wrap; }
    .sf-search {
      flex: 1; min-width: 200px; display: flex; align-items: center; gap: 8px;
      background: var(--off); border: 1px solid var(--ghost);
      padding: 10px 16px; transition: all .2s;
    }
    .sf-search:focus-within { border-color: var(--black); background: var(--pure); }
    .sf-search input {
      border: none; background: transparent; outline: none;
      font-family: 'DM Sans', sans-serif; font-size: 13.5px; color: var(--black); width: 100%;
    }
    .sf-search input::placeholder { color: var(--muted); }
    .filter-btn {
      display: flex; align-items: center; gap: 7px;
      height: 42px; padding: 0 18px;
      background: var(--pure); border: 1px solid var(--ghost);
      font-family: 'DM Sans', sans-serif; font-size: 11px; font-weight: 700;
      color: var(--mid); cursor: pointer; transition: all .15s;
      text-transform: uppercase; white-space: nowrap;
    }
    .filter-btn:hover { background: var(--off); border-color: var(--light); color: var(--black); }

    /* ══════════════════════════
       CARD
    ══════════════════════════ */
    .card { background: var(--pure); border: 1px solid var(--ghost); overflow: hidden; }
    .card-hd {
      display: flex; align-items: center; justify-content: space-between;
      padding: 18px 24px; border-bottom: 1px solid var(--ghost);
    }
    .card-hd-l { display: flex; align-items: center; gap: 12px; }
    .card-icon-wrap {
      width: 28px; height: 28px; background: var(--off); border: 1px solid var(--ghost);
      display: flex; align-items: center; justify-content: center; color: var(--black);
    }
    .card-title { font-size: 14px; font-weight: 700; color: var(--black); letter-spacing: -.01em; }
    .card-sub-text { font-size: 10.5px; color: var(--muted); margin-top: 2px; }
    .card-link {
      font-size: 11px; color: var(--muted); text-decoration: none;
      font-weight: 700; text-transform: uppercase; transition: color .15s;
    }
    .card-link:hover { color: var(--black); }
    .card-bd { padding: 24px; }

    /* ══════════════════════════
       APPLICATIONS TABLE
    ══════════════════════════ */
    .app-table { width: 100%; border-collapse: collapse; }
    .app-table th {
      font-size: 9.5px; font-weight: 700; text-transform: uppercase; letter-spacing: .06em;
      color: var(--muted); padding: 0 18px 12px; text-align: left;
      border-bottom: 1px solid var(--ghost);
    }
    .app-table td {
      padding: 15px 18px; border-bottom: 1px solid var(--ghost);
      font-size: 13px; color: var(--mid); vertical-align: middle;
    }
    .app-table tr:last-child td { border-bottom: none; }
    .app-table tbody tr { transition: background .12s; cursor: pointer; }
    .app-table tbody tr:hover td { background: var(--off); }
    .app-student-name { font-weight: 700; color: var(--black); font-size: 13.5px; margin-bottom: 2px; }
    .app-student-meta { font-size: 11px; color: var(--muted); }
    .app-role { font-weight: 600; color: var(--black); font-size: 13px; margin-bottom: 2px; }
    .app-role-meta { font-size: 11px; color: var(--muted); }

    .stu-avatar {
      width: 34px; height: 34px; background: var(--black);
      display: flex; align-items: center; justify-content: center;
      font-size: 11px; font-weight: 800; color: var(--white); flex-shrink: 0;
    }
    .stu-cell { display: flex; align-items: center; gap: 12px; }

    .skill-tag {
      font-size: 10px; font-weight: 600; padding: 2px 7px;
      border: 1px solid var(--ghost); color: var(--mid); background: var(--off);
      white-space: nowrap;
    }
    .skills-wrap { display: flex; gap: 4px; flex-wrap: wrap; }

    .s-pill {
      display: inline-flex; align-items: center; gap: 6px;
      font-size: 10px; font-weight: 700; padding: 4px 10px;
      text-transform: uppercase; letter-spacing: .04em;
    }
    .s-pill::before { content: ''; width: 5px; height: 5px; background: currentColor; }
    .s-approved { color: var(--black); background: var(--off); border: 1px solid var(--light); }
    .s-pending  { color: var(--mid); background: var(--off); border: 1px solid var(--ghost); }
    .s-review   { color: var(--dark); background: var(--ghost); border: 1px solid var(--light); }
    .s-rejected { color: var(--muted); background: var(--off); border: 1px solid var(--ghost); text-decoration: line-through; text-decoration-color: var(--light); }
    .s-scheduled { color: #0066cc; background: #e8f0ff; border: 1px solid #b3ccff; }
    .s-shortlisted { color: #7b5400; background: #fff8e1; border: 1px solid #ffe082; }

    .action-pair { display: flex; align-items: center; gap: 6px; }

    .match-badge {
      font-size: 13px; font-weight: 900; color: var(--black); letter-spacing: -.03em;
    }
    .match-lbl { font-size: 9px; font-weight: 700; color: var(--muted); text-transform: uppercase; margin-top: 1px; }

    /* ══════════════════════════
       GRID LAYOUTS
    ══════════════════════════ */
    .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    @media(max-width:768px) { .two-col { grid-template-columns: 1fr; } }
    .dash-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
    @media(max-width:960px) { .dash-grid { grid-template-columns: 1fr; } }

    /* ══════════════════════════
       ACTIVITY / TIMELINE
    ══════════════════════════ */
    .tl { display: flex; flex-direction: column; }
    .tl-row { display: flex; gap: 14px; padding-bottom: 20px; }
    .tl-row:last-child { padding-bottom: 0; }
    .tl-l { display: flex; flex-direction: column; align-items: center; }
    .tl-dot {
      width: 26px; height: 26px; background: var(--off); border: 1px solid var(--ghost);
      display: flex; align-items: center; justify-content: center; flex-shrink: 0;
    }
    .tl-dot.filled { background: var(--black); border-color: var(--black); }
    .tl-connector { width: 1px; flex: 1; background: var(--ghost); margin-top: 4px; }
    .tl-row:last-child .tl-connector { display: none; }
    .tl-r { padding-top: 3px; flex: 1; }
    .tl-title { font-size: 13px; font-weight: 600; color: var(--black); margin-bottom: 2px; }
    .tl-desc  { font-size: 11px; color: var(--muted); }

    /* ══════════════════════════
       MODAL
    ══════════════════════════ */
    .modal-overlay {
      display: none; position: fixed; inset: 0;
      background: rgba(0,0,0,.55); z-index: 500;
      align-items: center; justify-content: center;
      padding: 20px;
      animation: fadeIn .2s ease both;
    }
    .modal-overlay.open { display: flex; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    .modal {
      background: var(--pure); width: 100%; max-width: 620px;
      max-height: 90vh; overflow-y: auto;
      border: 1px solid var(--ghost);
      box-shadow: 0 24px 80px rgba(0,0,0,.2);
      animation: modalUp .25s cubic-bezier(.22,.68,0,1.2) both;
    }
    @keyframes modalUp { from { opacity: 0; transform: translateY(16px); } to { opacity: 1; transform: translateY(0); } }

    .modal-hd {
      display: flex; align-items: center; justify-content: space-between;
      padding: 20px 24px; border-bottom: 1px solid var(--ghost);
      position: sticky; top: 0; background: var(--pure); z-index: 1;
    }
    .modal-title { font-size: 16px; font-weight: 800; color: var(--black); letter-spacing: -.02em; }
    .modal-close {
      width: 30px; height: 30px; border: 1px solid var(--ghost);
      background: var(--off); cursor: pointer;
      display: flex; align-items: center; justify-content: center;
      color: var(--muted); transition: all .15s;
    }
    .modal-close:hover { background: var(--black); color: var(--white); border-color: var(--black); }

    .modal-profile {
      display: flex; align-items: center; gap: 20px; flex-wrap: wrap;
      padding: 24px; background: var(--black); margin-bottom: 0;
    }
    .modal-avatar {
      width: 60px; height: 60px; background: var(--white);
      display: flex; align-items: center; justify-content: center;
      font-size: 20px; font-weight: 900; color: var(--black); flex-shrink: 0;
    }
    .modal-name { font-size: 20px; font-weight: 900; color: var(--white); letter-spacing: -.03em; }
    .modal-email { font-size: 12px; color: var(--subtle); margin-top: 3px; }
    .modal-tags { display: flex; gap: 7px; margin-top: 10px; flex-wrap: wrap; }
    .modal-tag {
      font-size: 9.5px; font-weight: 700; padding: 3px 9px;
      border: 1px solid rgba(255,255,255,.15); color: rgba(255,255,255,.5);
      text-transform: uppercase; letter-spacing: .05em;
    }
    .modal-actions-bar {
      display: flex; gap: 10px; flex-wrap: wrap; margin-left: auto; align-items: center;
    }

    .modal-body { padding: 24px; }
    .modal-section { margin-bottom: 24px; }
    .modal-section:last-child { margin-bottom: 0; }
    .modal-section-title {
      font-size: 10px; font-weight: 800; letter-spacing: .1em;
      text-transform: uppercase; color: var(--muted);
      margin-bottom: 14px; padding-bottom: 8px;
      border-bottom: 1px solid var(--ghost);
    }
    .info-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }
    .info-item {}
    .info-label { font-size: 10px; font-weight: 700; color: var(--muted); text-transform: uppercase; letter-spacing: .06em; margin-bottom: 4px; }
    .info-val { font-size: 13.5px; color: var(--black); font-weight: 500; }

    .mini-stats { display: flex; gap: 1px; background: var(--ghost); border: 1px solid var(--ghost); margin-bottom: 24px; flex-wrap: wrap; }
    .mini-stat { background: var(--pure); flex: 1; min-width: 100px; padding: 16px 20px; }
    .mini-stat:hover { background: var(--off); }
    .mini-stat-val { font-size: 28px; font-weight: 900; letter-spacing: -.04em; color: var(--black); line-height: 1; }
    .mini-stat-lbl { font-size: 10px; font-weight: 600; text-transform: uppercase; color: var(--muted); margin-top: 4px; letter-spacing: .03em; }

    .pipeline { display: flex; gap: 1px; background: var(--ghost); border: 1px solid var(--ghost); margin-bottom: 32px; }
    .pipe-stage { flex: 1; background: var(--pure); padding: 20px 22px; transition: background .15s; }
    .pipe-stage:hover { background: var(--off); }
    .pipe-stage-name {
      font-size: 9.5px; font-weight: 800; text-transform: uppercase;
      color: var(--muted); letter-spacing: .08em; margin-bottom: 10px;
    }
    .pipe-count { font-size: 34px; font-weight: 900; letter-spacing: -.05em; color: var(--black); line-height: 1; }
    .pipe-bar-wrap { height: 3px; background: var(--ghost); margin-top: 10px; }
    .pipe-bar { height: 100%; background: var(--black); transition: width .8s ease; }
    .pipe-pct { font-size: 10px; color: var(--muted); margin-top: 5px; font-weight: 600; }

    .notif-list { display: flex; flex-direction: column; }
    .notif-row {
      display: flex; align-items: flex-start; gap: 14px;
      padding: 16px 0; border-bottom: 1px solid var(--ghost);
    }
    .notif-row:last-child { border-bottom: none; }
    .ni-icon {
      width: 32px; height: 32px; background: var(--off); border: 1px solid var(--ghost);
      display: flex; align-items: center; justify-content: center; flex-shrink: 0;
    }
    .ni-text { font-size: 13px; color: var(--mid); line-height: 1.6; }
    .ni-text strong { color: var(--black); font-weight: 600; }
    .ni-time { font-size: 10px; color: var(--muted); margin-top: 3px; }

    /* ══════════════════════════
       JOB POSTING CARD
    ══════════════════════════ */
    .job-cards-grid {
      display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 16px; margin-top: 24px;
    }
    .job-card {
      background: var(--pure); border: 1px solid var(--ghost);
      padding: 24px; transition: all .15s; cursor: pointer; position: relative;
    }
    .job-card:hover { border-color: var(--light); box-shadow: 0 4px 20px rgba(0,0,0,.06); }
    .job-card-header { display: flex; align-items: flex-start; justify-content: space-between; gap: 12px; margin-bottom: 14px; }
    .job-card-title { font-size: 15px; font-weight: 800; color: var(--black); letter-spacing: -.02em; margin-bottom: 4px; }
    .job-card-company { font-size: 12px; color: var(--muted); font-weight: 500; }
    .job-status-badge {
      font-size: 9px; font-weight: 800; padding: 3px 9px;
      text-transform: uppercase; letter-spacing: .06em; white-space: nowrap;
    }
    .badge-open { background: var(--black); color: var(--white); }
    .badge-closed { background: var(--ghost); color: var(--muted); }
    .badge-draft { background: var(--off); color: var(--subtle); border: 1px solid var(--ghost); }
    .job-meta-row { display: flex; gap: 14px; flex-wrap: wrap; margin-bottom: 16px; }
    .job-meta-item { font-size: 11px; color: var(--muted); display: flex; align-items: center; gap: 5px; }
    .job-meta-item svg { opacity: .5; }
    .job-skills-row { display: flex; gap: 5px; flex-wrap: wrap; margin-bottom: 16px; }
    .job-card-footer { display: flex; align-items: center; justify-content: space-between; padding-top: 14px; border-top: 1px solid var(--ghost); }
    .job-apps-count { font-size: 12px; color: var(--muted); font-weight: 600; }
    .job-apps-count strong { color: var(--black); font-size: 14px; font-weight: 900; }

    /* ══════════════════════════
       EDIT DROPDOWN
    ══════════════════════════ */
    .edit-dropdown-wrap {
      position: relative;
    }
    .edit-dropdown-menu {
      display: none;
      position: absolute;
      bottom: calc(100% + 6px);
      right: 0;
      background: var(--pure);
      border: 1px solid var(--ghost);
      box-shadow: 0 8px 24px rgba(0,0,0,.12);
      min-width: 160px;
      z-index: 50;
      animation: fadeUp .15s ease both;
    }
    .edit-dropdown-wrap.open .edit-dropdown-menu { display: block; }
    .edit-dropdown-item {
      display: flex; align-items: center; gap: 10px;
      padding: 10px 14px; font-size: 12px; font-weight: 600;
      color: var(--mid); cursor: pointer; border: none; background: none;
      width: 100%; text-align: left; transition: all .12s;
      font-family: 'DM Sans', sans-serif;
    }
    .edit-dropdown-item:hover { background: var(--off); color: var(--black); }
    .edit-dropdown-item.delete { color: var(--danger); }
    .edit-dropdown-item.delete:hover { background: var(--danger-bg); color: var(--danger); }
    .edit-dropdown-divider { height: 1px; background: var(--ghost); }

    /* ══════════════════════════
       FORM MODAL
    ══════════════════════════ */
    .form-modal {
      background: var(--pure); width: 100%; max-width: 560px;
      max-height: 90vh; overflow-y: auto;
      border: 1px solid var(--ghost);
      box-shadow: 0 24px 80px rgba(0,0,0,.2);
      animation: modalUp .25s cubic-bezier(.22,.68,0,1.2) both;
    }
    .form-row { margin-bottom: 18px; }
    .form-label { font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: .06em; color: var(--muted); margin-bottom: 7px; display: block; }
    .form-input, .form-select, .form-textarea {
      width: 100%; background: var(--off); border: 1px solid var(--ghost);
      padding: 10px 14px; font-family: 'DM Sans', sans-serif;
      font-size: 13.5px; color: var(--black); outline: none; transition: all .2s;
      appearance: none;
    }
    .form-input:focus, .form-select:focus, .form-textarea:focus {
      border-color: var(--black); background: var(--pure);
    }
    .form-textarea { min-height: 90px; resize: vertical; }
    .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 14px; }
    .form-footer { display: flex; justify-content: flex-end; gap: 10px; padding: 20px 24px; border-top: 1px solid var(--ghost); }

    /* ══════════════════════════
       DELETE CONFIRM MODAL
    ══════════════════════════ */
    .confirm-modal {
      background: var(--pure); width: 100%; max-width: 420px;
      border: 1px solid var(--ghost);
      box-shadow: 0 24px 80px rgba(0,0,0,.2);
      animation: modalUp .25s cubic-bezier(.22,.68,0,1.2) both;
    }
    .confirm-modal-body { padding: 28px 28px 20px; }
    .confirm-icon {
      width: 48px; height: 48px; background: var(--danger-bg);
      border: 1px solid #fecaca;
      display: flex; align-items: center; justify-content: center;
      margin-bottom: 16px;
    }
    .confirm-title { font-size: 17px; font-weight: 800; color: var(--black); margin-bottom: 6px; letter-spacing: -.02em; }
    .confirm-desc { font-size: 13px; color: var(--muted); line-height: 1.6; }
    .confirm-footer { display: flex; justify-content: flex-end; gap: 10px; padding: 16px 28px; border-top: 1px solid var(--ghost); }

    /* ══════════════════════════
       INTERVIEW SCHEDULE
    ══════════════════════════ */
    .calendar-grid {
      display: grid; grid-template-columns: repeat(7, 1fr);
      gap: 1px; background: var(--ghost); border: 1px solid var(--ghost);
      margin-bottom: 24px;
    }
    .cal-day-header {
      background: var(--off); padding: 10px;
      font-size: 9px; font-weight: 800; text-transform: uppercase;
      letter-spacing: .06em; color: var(--muted); text-align: center;
    }
    .cal-day {
      background: var(--pure); min-height: 80px; padding: 8px;
      cursor: pointer; transition: background .15s; position: relative;
    }
    .cal-day:hover { background: var(--off); }
    .cal-day.other-month { background: var(--off); }
    .cal-day.today { background: var(--black) !important; }
    .cal-day.today .cal-day-num { color: var(--white); }
    .cal-day-num { font-size: 12px; font-weight: 700; color: var(--black); margin-bottom: 4px; }
    .cal-day.other-month .cal-day-num { color: var(--light); }
    .cal-event {
      font-size: 9px; font-weight: 700; padding: 2px 5px;
      background: var(--black); color: var(--white);
      margin-bottom: 2px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    }
    .cal-event.interview { background: var(--dark); }
    .cal-event.pending { background: var(--subtle); }

    .interview-list { display: flex; flex-direction: column; gap: 1px; }
    .interview-row {
      display: flex; align-items: center; gap: 16px;
      background: var(--pure); border: 1px solid var(--ghost);
      padding: 16px 20px; transition: background .15s; cursor: pointer;
    }
    .interview-row:hover { background: var(--off); }
    .interview-time {
      font-size: 13px; font-weight: 800; color: var(--black);
      letter-spacing: -.02em; min-width: 70px;
    }
    .interview-time-sub { font-size: 10px; color: var(--muted); margin-top: 1px; }
    .interview-divider { width: 1px; height: 40px; background: var(--ghost); flex-shrink: 0; }
    .interview-details { flex: 1; }
    .interview-name { font-size: 13.5px; font-weight: 700; color: var(--black); margin-bottom: 2px; }
    .interview-meta { font-size: 11px; color: var(--muted); }
    .interview-type {
      font-size: 9.5px; font-weight: 700; padding: 3px 8px;
      border: 1px solid var(--ghost); text-transform: uppercase; letter-spacing: .05em;
      color: var(--mid); background: var(--off);
    }
    .type-technical { background: #e8f0ff; border-color: #b3ccff; color: #0055cc; }
    .type-hr { background: #fff0e0; border-color: #ffd0a0; color: #8b4000; }
    .type-final { background: #f0e8ff; border-color: #d0b0ff; color: #5500cc; }

    /* ══════════════════════════
       SOCIAL MEDIA
    ══════════════════════════ */
    .social-post-cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 16px; }
    .social-post-card {
      background: var(--pure); border: 1px solid var(--ghost);
      overflow: hidden; transition: all .15s;
    }
    .social-post-card:hover { border-color: var(--light); box-shadow: 0 4px 16px rgba(0,0,0,.06); }
    .social-post-header {
      padding: 14px 16px; display: flex; align-items: center; gap: 10px;
      border-bottom: 1px solid var(--ghost);
    }
    .social-platform-icon {
      width: 28px; height: 28px; display: flex; align-items: center; justify-content: center;
      font-size: 11px; font-weight: 900; color: var(--white); flex-shrink: 0;
    }
    .platform-linkedin { background: #0077b5; }
    .platform-twitter  { background: #000000; }
    .platform-instagram { background: linear-gradient(135deg,#f09433,#e6683c,#dc2743,#cc2366,#bc1888); }
    .social-platform-name { font-size: 11px; font-weight: 700; color: var(--black); }
    .social-post-date { font-size: 10px; color: var(--muted); margin-left: auto; }
    .social-post-body { padding: 14px 16px; font-size: 13px; color: var(--mid); line-height: 1.7; }
    .social-post-footer { padding: 12px 16px; border-top: 1px solid var(--ghost); display: flex; align-items: center; justify-content: space-between; }
    .social-stats { display: flex; gap: 14px; }
    .social-stat { font-size: 11px; color: var(--muted); display: flex; align-items: center; gap: 5px; }
    .social-stat strong { color: var(--black); font-weight: 700; }
    .social-status-badge {
      font-size: 9px; font-weight: 800; padding: 2px 7px;
      text-transform: uppercase; letter-spacing: .05em;
    }
    .posted { background: var(--off); color: var(--subtle); border: 1px solid var(--ghost); }
    .scheduled-post { background: #e8f0ff; color: #0055cc; border: 1px solid #b3ccff; }
    .draft-post { background: var(--ghost); color: var(--muted); }

    /* ══════════════════════════
       SHORTLIST + RANKLIST
    ══════════════════════════ */
    .rank-card {
      background: var(--pure); border: 1px solid var(--ghost);
      display: flex; align-items: center; gap: 16px;
      padding: 16px 20px; transition: background .15s; margin-bottom: 1px;
      cursor: pointer;
    }
    .rank-card:hover { background: var(--off); }
    .rank-num {
      font-size: 22px; font-weight: 900; color: var(--black);
      letter-spacing: -.04em; min-width: 32px; line-height: 1;
    }
    .rank-num.gold   { color: #b8860b; }
    .rank-num.silver { color: #808080; }
    .rank-num.bronze { color: #8b4513; }
    .rank-bar-wrap { flex: 1; }
    .rank-bar-track { height: 4px; background: var(--ghost); margin-top: 6px; }
    .rank-bar-fill  { height: 100%; background: var(--black); transition: width 1s ease; }
    .rank-score { font-size: 20px; font-weight: 900; letter-spacing: -.03em; color: var(--black); }
    .rank-score-lbl { font-size: 9px; color: var(--muted); font-weight: 700; text-transform: uppercase; }

    .shortlist-section-header {
      font-size: 10px; font-weight: 800; letter-spacing: .1em;
      text-transform: uppercase; color: var(--muted);
      padding: 14px 20px; border-bottom: 1px solid var(--ghost);
      background: var(--off);
    }

    /* ══════════════════════════
       MOBILE
    ══════════════════════════ */
    .overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,.6); z-index: 150; }
    @media(max-width:768px) {
      .sidebar { transform: translateX(-100%); }
      .sidebar.open { transform: translateX(0); }
      .overlay.open { display: block; }
      .main { margin-left: 0; }
      .topnav { left: 0; }
      .hamburger { display: flex; }
      .page { padding: 24px 18px 48px; }
      .stats-row { grid-template-columns: 1fr 1fr; }
      .pipeline { flex-direction: column; }
      .form-grid { grid-template-columns: 1fr; }
      .job-cards-grid { grid-template-columns: 1fr; }
      .social-post-cards { grid-template-columns: 1fr; }
    }

    ::-webkit-scrollbar { width: 4px; }
    ::-webkit-scrollbar-track { background: var(--white); }
    ::-webkit-scrollbar-thumb { background: var(--light); }
    .divider { height: 1px; background: var(--ghost); margin: 20px 0; }

    /* Empty state */
    .empty-state {
      text-align: center; padding: 60px 20px; color: var(--muted);
    }
    .empty-state-icon { font-size: 40px; margin-bottom: 12px; opacity: .3; }
    .empty-state-title { font-size: 16px; font-weight: 800; color: var(--mid); margin-bottom: 6px; }
    .empty-state-sub { font-size: 12px; }
  </style>
</head>
<body>

<div class="overlay" id="overlay" onclick="toggleSidebar()"></div>

<!-- ══════════════════════════════
     SIDEBAR
══════════════════════════════ -->
<aside class="sidebar" id="sidebar">
  <div class="sidebar-logo">
    <div class="logo-mark">IH</div>
    <span class="logo-name">InternHub</span>
    <span class="logo-hr-badge">HR</span>
  </div>

  <div class="nav-section-label">Main</div>
  <button class="nav-item active" onclick="showPage('overview', this)">
    <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
    Overview
  </button>
  <button class="nav-item" onclick="showPage('applications', this)">
    <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="square" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2"/></svg>
    All Applications
    <span class="n-badge n-white">12</span>
  </button>
  <button class="nav-item" onclick="showPage('pending', this)">
    <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path stroke-linecap="round" d="M12 6v6l4 2"/></svg>
    Pending Review
    <span class="n-badge n-white">5</span>
  </button>
  <button class="nav-item" onclick="showPage('approved', this)">
    <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M5 13l4 4L19 7"/></svg>
    Approved
    <span class="n-badge n-dark">4</span>
  </button>

  <div class="nav-section-label">Recruitment</div>
  <button class="nav-item" onclick="showPage('jobposting', this)">
    <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="1"/><path stroke-linecap="round" d="M16 7V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v2"/></svg>
    Job Postings
    <span class="n-badge n-dark">6</span>
  </button>
  <button class="nav-item" onclick="showPage('jobapps', this)">
    <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 12h6m-6 4h4"/></svg>
    Applications by Role
  </button>
  <button class="nav-item" onclick="showPage('shortlist', this)">
    <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M12 12l2 2 4-4"/></svg>
    Shortlist
    <span class="n-badge n-white">8</span>
  </button>
  <button class="nav-item" onclick="showPage('ranklist', this)">
    <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M3 6h18M3 12h18M3 18h18"/><circle cx="20" cy="6" r="1" fill="currentColor"/><circle cx="20" cy="12" r="1" fill="currentColor"/><circle cx="20" cy="18" r="1" fill="currentColor"/></svg>
    Rank List
  </button>
  <button class="nav-item" onclick="showPage('interviews', this)">
    <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="1"/><path stroke-linecap="round" d="M16 2v4M8 2v4M3 10h18"/></svg>
    Interview Schedule
    <span class="n-badge n-white">4</span>
  </button>

  <div class="nav-section-label">Manage</div>
  <button class="nav-item" onclick="showPage('students', this)">
    <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
    Students
  </button>
  <button class="nav-item" onclick="showPage('social', this)">
    <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><path stroke-linecap="round" d="M8.59 13.51l6.83 3.98M15.41 6.51l-6.82 3.98"/></svg>
    Social Media
  </button>
  <button class="nav-item" onclick="showPage('notifications', this)">
    <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M15 17H9m6 0a3 3 0 01-6 0m6 0H5.5A1.5 1.5 0 014 15.5v-.545A2 2 0 015.083 13.2L6 12V8a6 6 0 0112 0v4l.917 1.2A2 2 0 0120 14.955v.545A1.5 1.5 0 0118.5 17H15z"/></svg>
    Notifications
    <span class="n-badge n-white">3</span>
  </button>

  <div class="sidebar-footer">
    <div class="profile-popup">
      <button class="popup-item">
        <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>
        My Profile
      </button>
      <button class="popup-item">
        <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><rect x="5" y="11" width="14" height="10"/><path stroke-linecap="square" d="M8 11V7a4 4 0 018 0v4"/></svg>
        Reset Password
      </button>
      <button class="popup-item danger">
        <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"/></svg>
        Exit / Logout
      </button>
    </div>
    <div class="user-tile">
      <div class="u-avatar">HR</div>
      <div>
        <div class="u-name">Priya Sharma</div>
        <div class="u-role">HR MANAGER</div>
      </div>
      <svg class="u-chevron" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" d="M5 15l7-7 7 7"/>
      </svg>
    </div>
  </div>
</aside>

<!-- ══════════════════════════════
     TOP NAV
══════════════════════════════ -->
<header class="topnav">
  <button class="icon-btn hamburger" onclick="toggleSidebar()">
    <svg width="17" height="17" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="square" d="M4 6h16M4 12h16M4 18h16"/></svg>
  </button>
  <div class="search-bar">
    <svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
    <input type="text" placeholder="Search students, applications, roles…">
  </div>
  <div class="topnav-right">
    <button class="icon-btn" onclick="showPage('notifications', document.querySelectorAll('.nav-item')[12])">
      <svg width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M15 17H9m6 0a3 3 0 01-6 0m6 0H5.5A1.5 1.5 0 014 15.5v-.545A2 2 0 015.083 13.2L6 12V8a6 6 0 0112 0v4l.917 1.2A2 2 0 0120 14.955v.545A1.5 1.5 0 0118.5 17H15z"/></svg>
      <span class="notif-dot"></span>
    </button>
    <div class="u-avatar" style="width:30px;height:30px;font-size:10px;background:var(--black);color:var(--white);cursor:pointer;font-weight:900">HR</div>
  </div>
</header>

<main class="main">

  <!-- ══════════════════════════════ OVERVIEW ══════════════════════════════ -->
  <div class="page active" id="page-overview">
    <div class="ph">
      <div>
        <h1 class="ph-title">HR Dashboard</h1>
        <p class="ph-sub" id="dash-date">Loading…</p>
      </div>
      <div class="ph-actions">
        <button class="btn btn-outline" onclick="showPage('applications', document.querySelectorAll('.nav-item')[1])">Export Report</button>
        <button class="btn btn-dark" onclick="showPage('pending', document.querySelectorAll('.nav-item')[2])">
          <svg width="12" height="12" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2"/></svg>
          Review Pending
        </button>
      </div>
    </div>
    <div class="stats-row">
      <div class="stat-card">
        <div class="stat-top"><span class="stat-lbl">Total Applications</span><span class="stat-pill pill-dark">+3 Today</span></div>
        <div class="stat-val">12</div>
        <div class="stat-foot">Across all roles this month</div>
      </div>
      <div class="stat-card">
        <div class="stat-top"><span class="stat-lbl">Pending Review</span><span class="stat-pill pill-outline">Needs Action</span></div>
        <div class="stat-val">5</div>
        <div class="stat-foot">Awaiting your decision</div>
      </div>
      <div class="stat-card">
        <div class="stat-top"><span class="stat-lbl">Active Job Posts</span><span class="stat-pill pill-ghost">This Month</span></div>
        <div class="stat-val">6</div>
        <div class="stat-foot">Positions currently open</div>
      </div>
      <div class="stat-card">
        <div class="stat-top"><span class="stat-lbl">Interviews Today</span><span class="stat-pill pill-dark">Scheduled</span></div>
        <div class="stat-val">4</div>
        <div class="stat-foot">Technical + HR rounds</div>
      </div>
    </div>
    <div class="pipeline">
      <div class="pipe-stage"><div class="pipe-stage-name">New</div><div class="pipe-count">12</div><div class="pipe-bar-wrap"><div class="pipe-bar" style="width:100%"></div></div><div class="pipe-pct">100%</div></div>
      <div class="pipe-stage"><div class="pipe-stage-name">Under Review</div><div class="pipe-count">7</div><div class="pipe-bar-wrap"><div class="pipe-bar" style="width:58%"></div></div><div class="pipe-pct">58%</div></div>
      <div class="pipe-stage"><div class="pipe-stage-name">Shortlisted</div><div class="pipe-count">5</div><div class="pipe-bar-wrap"><div class="pipe-bar" style="width:42%"></div></div><div class="pipe-pct">42%</div></div>
      <div class="pipe-stage"><div class="pipe-stage-name">Approved</div><div class="pipe-count">4</div><div class="pipe-bar-wrap"><div class="pipe-bar" style="width:33%"></div></div><div class="pipe-pct">33%</div></div>
      <div class="pipe-stage"><div class="pipe-stage-name">Rejected</div><div class="pipe-count">3</div><div class="pipe-bar-wrap"><div class="pipe-bar" style="width:25%"></div></div><div class="pipe-pct">25%</div></div>
    </div>
    <div class="dash-grid">
      <div class="card">
        <div class="card-hd">
          <div class="card-hd-l">
            <div class="card-icon-wrap"><svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="square" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2"/></svg></div>
            <div><div class="card-title">Recent Applications</div><div class="card-sub-text">Latest submissions from students</div></div>
          </div>
          <a class="card-link" href="#" onclick="showPage('applications',document.querySelectorAll('.nav-item')[1]);return false">View All →</a>
        </div>
        <div style="overflow-x:auto">
          <table class="app-table">
            <thead><tr><th>Student</th><th>Role</th><th>Status</th><th>Action</th></tr></thead>
            <tbody>
              <tr onclick="openModal('Arun Kumar','AK','arun@college.edu','Computer Science','ML Engineer Intern','Microsoft · Hybrid','Jan 22, 2025','87%',['Python','ML','TensorFlow'],'review')">
                <td><div class="stu-cell"><div class="stu-avatar">AK</div><div><div class="app-student-name">Arun Kumar</div><div class="app-student-meta">CS · 3rd Year</div></div></div></td>
                <td><div class="app-role">ML Engineer Intern</div><div class="app-role-meta">Microsoft · Hybrid</div></td>
                <td><span class="s-pill s-review">Under Review</span></td>
                <td><div class="action-pair"><button class="btn btn-approve" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();approveRow(this)">Approve</button><button class="btn btn-reject" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();rejectRow(this)">Reject</button></div></td>
              </tr>
              <tr onclick="openModal('Priya Nair','PN','priya@college.edu','Information Technology','Frontend Developer Intern','Google India · Remote','Jan 28, 2025','94%',['React','JavaScript','CSS'],'pending')">
                <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--mid)">PN</div><div><div class="app-student-name">Priya Nair</div><div class="app-student-meta">IT · 2nd Year</div></div></div></td>
                <td><div class="app-role">Frontend Developer Intern</div><div class="app-role-meta">Google India · Remote</div></td>
                <td><span class="s-pill s-pending">Pending</span></td>
                <td><div class="action-pair"><button class="btn btn-approve" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();approveRow(this)">Approve</button><button class="btn btn-reject" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();rejectRow(this)">Reject</button></div></td>
              </tr>
              <tr onclick="openModal('Ravi Shankar','RS','ravi@college.edu','Data Science','Data Analyst Intern','TCS · Mumbai','Jan 18, 2025','79%',['Python','SQL','NumPy'],'approved')">
                <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--subtle)">RS</div><div><div class="app-student-name">Ravi Shankar</div><div class="app-student-meta">DS · 3rd Year</div></div></div></td>
                <td><div class="app-role">Data Analyst Intern</div><div class="app-role-meta">TCS · Mumbai</div></td>
                <td><span class="s-pill s-approved">Approved</span></td>
                <td><div class="action-pair"><button class="btn btn-outline" style="height:30px;padding:0 12px;font-size:11px">View Letter</button></div></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
      <div style="display:flex;flex-direction:column;gap:20px">
        <div class="card">
          <div class="card-hd">
            <div class="card-hd-l">
              <div class="card-icon-wrap"><svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path stroke-linecap="round" d="M12 6v6l4 2"/></svg></div>
              <div class="card-title">Recent Activity</div>
            </div>
          </div>
          <div class="card-bd">
            <div class="tl">
              <div class="tl-row"><div class="tl-l"><div class="tl-dot filled"><svg width="10" height="10" fill="none" viewBox="0 0 24 24" stroke="white" stroke-width="3"><path stroke-linecap="round" d="M5 13l4 4L19 7"/></svg></div><div class="tl-connector"></div></div><div class="tl-r"><div class="tl-title">Approved: Ravi Shankar</div><div class="tl-desc">TCS Data Analyst Intern · 2h ago</div></div></div>
              <div class="tl-row"><div class="tl-l"><div class="tl-dot"><svg width="10" height="10" fill="none" viewBox="0 0 24 24" stroke="var(--mid)" stroke-width="2.5"><circle cx="12" cy="12" r="10"/><path stroke-linecap="round" d="M12 6v6l4 2"/></svg></div><div class="tl-connector"></div></div><div class="tl-r"><div class="tl-title">Interview Scheduled: Priya Nair</div><div class="tl-desc">Google India · Technical Round · Tomorrow 10am</div></div></div>
              <div class="tl-row"><div class="tl-l"><div class="tl-dot"><svg width="10" height="10" fill="none" viewBox="0 0 24 24" stroke="var(--mid)" stroke-width="2"><rect x="2" y="7" width="20" height="14"/><path d="M16 7V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v2"/></svg></div><div class="tl-connector"></div></div><div class="tl-r"><div class="tl-title">Job Posted: ML Engineer Intern</div><div class="tl-desc">Microsoft · 8h ago · 3 applications received</div></div></div>
              <div class="tl-row"><div class="tl-l"><div class="tl-dot"></div></div><div class="tl-r"><div class="tl-title">Rejected: Meena R.</div><div class="tl-desc">Wipro Backend Intern · 1 day ago</div></div></div>
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-hd">
            <div class="card-hd-l">
              <div class="card-icon-wrap"><svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg></div>
              <div class="card-title">Top Courses</div>
            </div>
          </div>
          <div class="card-bd" style="padding-top:18px">
            <div style="display:flex;flex-direction:column;gap:14px">
              <div><div style="display:flex;justify-content:space-between;font-size:12px;margin-bottom:4px"><span style="font-weight:600;color:var(--black)">Computer Science</span><span style="color:var(--muted);font-size:11px">5 apps</span></div><div style="height:3px;background:var(--ghost)"><div style="height:100%;background:var(--black);width:70%"></div></div></div>
              <div><div style="display:flex;justify-content:space-between;font-size:12px;margin-bottom:4px"><span style="font-weight:600;color:var(--black)">Information Technology</span><span style="color:var(--muted);font-size:11px">3 apps</span></div><div style="height:3px;background:var(--ghost)"><div style="height:100%;background:var(--black);width:42%"></div></div></div>
              <div><div style="display:flex;justify-content:space-between;font-size:12px;margin-bottom:4px"><span style="font-weight:600;color:var(--black)">Data Science</span><span style="color:var(--muted);font-size:11px">2 apps</span></div><div style="height:3px;background:var(--ghost)"><div style="height:100%;background:var(--black);width:28%"></div></div></div>
              <div><div style="display:flex;justify-content:space-between;font-size:12px;margin-bottom:4px"><span style="font-weight:600;color:var(--black)">AI & ML</span><span style="color:var(--muted);font-size:11px">2 apps</span></div><div style="height:3px;background:var(--ghost)"><div style="height:100%;background:var(--black);width:28%"></div></div></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- ══════════════════════════════ ALL APPLICATIONS ══════════════════════════════ -->
  <div class="page" id="page-applications">
    <div class="ph">
      <div><h1 class="ph-title">All Applications</h1><p class="ph-sub">Review and manage every student application</p></div>
      <div class="ph-actions"><button class="btn btn-outline">Export CSV</button></div>
    </div>
    <div class="mini-stats">
      <div class="mini-stat"><div class="mini-stat-val">12</div><div class="mini-stat-lbl">Total</div></div>
      <div class="mini-stat"><div class="mini-stat-val">5</div><div class="mini-stat-lbl">Pending</div></div>
      <div class="mini-stat"><div class="mini-stat-val">4</div><div class="mini-stat-lbl">Approved</div></div>
      <div class="mini-stat"><div class="mini-stat-val">3</div><div class="mini-stat-lbl">Rejected</div></div>
    </div>
    <div class="tabs">
      <button class="tab active" onclick="filterApps(this,'all')">All <span class="tab-count">12</span></button>
      <button class="tab" onclick="filterApps(this,'review')">Under Review <span class="tab-count">3</span></button>
      <button class="tab" onclick="filterApps(this,'pending')">Pending <span class="tab-count">5</span></button>
      <button class="tab" onclick="filterApps(this,'approved')">Approved <span class="tab-count">4</span></button>
    </div>
    <div class="sf-bar">
      <div class="sf-search">
        <svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
        <input type="text" placeholder="Search by student name, role or company…" id="app-search" oninput="searchApps(this.value)">
      </div>
      <button class="filter-btn"><svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M3 4h18M7 8h10M11 12h2"/></svg>Filter</button>
    </div>
    <div class="card">
      <div style="overflow-x:auto">
        <table class="app-table" id="apps-table">
          <thead><tr><th>Student</th><th>Applied Role</th><th>Match</th><th>Skills</th><th>Applied On</th><th>Status</th><th>Action</th></tr></thead>
          <tbody id="apps-tbody">
            <tr data-status="review" onclick="openModal('Arun Kumar','AK','arun@college.edu','Computer Science','ML Engineer Intern','Microsoft · Hybrid','Jan 22, 2025','87%',['Python','ML','TensorFlow'],'review')">
              <td><div class="stu-cell"><div class="stu-avatar">AK</div><div><div class="app-student-name">Arun Kumar</div><div class="app-student-meta">CS · 3rd Year · arun@college.edu</div></div></div></td>
              <td><div class="app-role">ML Engineer Intern</div><div class="app-role-meta">Microsoft · Hybrid · 6 months</div></td>
              <td><div class="match-badge">87%</div><div class="match-lbl">Match</div></td>
              <td><div class="skills-wrap"><span class="skill-tag">Python</span><span class="skill-tag">ML</span><span class="skill-tag">TensorFlow</span></div></td>
              <td style="font-size:12px;color:var(--muted)">Jan 22, 2025</td>
              <td><span class="s-pill s-review">Under Review</span></td>
              <td><div class="action-pair"><button class="btn btn-approve" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();approveRow(this)">Approve</button><button class="btn btn-reject" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();rejectRow(this)">Reject</button></div></td>
            </tr>
            <tr data-status="pending" onclick="openModal('Priya Nair','PN','priya@college.edu','Information Technology','Frontend Developer Intern','Google India · Remote','Jan 28, 2025','94%',['React','JavaScript','CSS'],'pending')">
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--mid)">PN</div><div><div class="app-student-name">Priya Nair</div><div class="app-student-meta">IT · 2nd Year · priya@college.edu</div></div></div></td>
              <td><div class="app-role">Frontend Developer Intern</div><div class="app-role-meta">Google India · Remote · 3–6 months</div></td>
              <td><div class="match-badge">94%</div><div class="match-lbl">Match</div></td>
              <td><div class="skills-wrap"><span class="skill-tag">React</span><span class="skill-tag">JavaScript</span><span class="skill-tag">CSS</span></div></td>
              <td style="font-size:12px;color:var(--muted)">Jan 28, 2025</td>
              <td><span class="s-pill s-pending">Pending</span></td>
              <td><div class="action-pair"><button class="btn btn-approve" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();approveRow(this)">Approve</button><button class="btn btn-reject" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();rejectRow(this)">Reject</button></div></td>
            </tr>
            <tr data-status="approved" onclick="openModal('Ravi Shankar','RS','ravi@college.edu','Data Science','Data Analyst Intern','TCS · Mumbai','Jan 18, 2025','79%',['Python','SQL','NumPy'],'approved')">
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--subtle)">RS</div><div><div class="app-student-name">Ravi Shankar</div><div class="app-student-meta">DS · 3rd Year · ravi@college.edu</div></div></div></td>
              <td><div class="app-role">Data Analyst Intern</div><div class="app-role-meta">TCS · Mumbai · 3 months</div></td>
              <td><div class="match-badge">79%</div><div class="match-lbl">Match</div></td>
              <td><div class="skills-wrap"><span class="skill-tag">Python</span><span class="skill-tag">SQL</span><span class="skill-tag">NumPy</span></div></td>
              <td style="font-size:12px;color:var(--muted)">Jan 18, 2025</td>
              <td><span class="s-pill s-approved">Approved</span></td>
              <td><div class="action-pair"><button class="btn btn-outline" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation()">View Letter</button></div></td>
            </tr>
            <tr data-status="pending" onclick="openModal('Meena Raj','MR','meena@college.edu','Computer Science','Backend Developer Intern','Amazon · Bangalore','Feb 01, 2025','82%',['Django','Python','REST API'],'pending')">
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--light);color:var(--black)">MR</div><div><div class="app-student-name">Meena Raj</div><div class="app-student-meta">CS · 4th Year · meena@college.edu</div></div></div></td>
              <td><div class="app-role">Backend Developer Intern</div><div class="app-role-meta">Amazon · Bangalore · 4–6 months</div></td>
              <td><div class="match-badge">82%</div><div class="match-lbl">Match</div></td>
              <td><div class="skills-wrap"><span class="skill-tag">Django</span><span class="skill-tag">Python</span><span class="skill-tag">REST API</span></div></td>
              <td style="font-size:12px;color:var(--muted)">Feb 01, 2025</td>
              <td><span class="s-pill s-pending">Pending</span></td>
              <td><div class="action-pair"><button class="btn btn-approve" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();approveRow(this)">Approve</button><button class="btn btn-reject" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();rejectRow(this)">Reject</button></div></td>
            </tr>
            <tr data-status="rejected">
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--ghost);color:var(--muted)">KP</div><div><div class="app-student-name">Kiran Patel</div><div class="app-student-meta">AI · 2nd Year · kiran@college.edu</div></div></div></td>
              <td><div class="app-role">Full Stack Developer Intern</div><div class="app-role-meta">Wipro · Hyderabad · 6 months</div></td>
              <td><div class="match-badge">68%</div><div class="match-lbl">Match</div></td>
              <td><div class="skills-wrap"><span class="skill-tag">React</span><span class="skill-tag">Node.js</span><span class="skill-tag">MongoDB</span></div></td>
              <td style="font-size:12px;color:var(--muted)">Dec 10, 2024</td>
              <td><span class="s-pill s-rejected">Rejected</span></td>
              <td><div class="action-pair"><button class="btn btn-ghost" style="height:30px;padding:0 12px;font-size:11px">Feedback</button></div></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- ══════════════════════════════ PENDING ══════════════════════════════ -->
  <div class="page" id="page-pending">
    <div class="ph">
      <div><h1 class="ph-title">Pending Review</h1><p class="ph-sub">5 applications awaiting your decision</p></div>
      <div class="ph-actions"><button class="btn btn-dark" onclick="alert('All pending applications approved!')">Approve All</button></div>
    </div>
    <div class="card">
      <div style="overflow-x:auto">
        <table class="app-table">
          <thead><tr><th>Student</th><th>Applied Role</th><th>Match</th><th>Applied On</th><th>CV</th><th>Action</th></tr></thead>
          <tbody>
            <tr onclick="openModal('Priya Nair','PN','priya@college.edu','Information Technology','Frontend Developer Intern','Google India · Remote','Jan 28, 2025','94%',['React','JavaScript','CSS'],'pending')">
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--mid)">PN</div><div><div class="app-student-name">Priya Nair</div><div class="app-student-meta">IT · 2nd Year</div></div></div></td>
              <td><div class="app-role">Frontend Developer Intern</div><div class="app-role-meta">Google India · Remote</div></td>
              <td><div class="match-badge">94%</div><div class="match-lbl">Match</div></td>
              <td style="font-size:12px;color:var(--muted)">Jan 28, 2025</td>
              <td><button class="btn btn-ghost" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation()">View CV</button></td>
              <td><div class="action-pair"><button class="btn btn-approve" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();approveRow(this)">Approve</button><button class="btn btn-reject" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();rejectRow(this)">Reject</button></div></td>
            </tr>
            <tr onclick="openModal('Meena Raj','MR','meena@college.edu','Computer Science','Backend Developer Intern','Amazon · Bangalore','Feb 01, 2025','82%',['Django','Python','REST API'],'pending')">
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--light);color:var(--black)">MR</div><div><div class="app-student-name">Meena Raj</div><div class="app-student-meta">CS · 4th Year</div></div></div></td>
              <td><div class="app-role">Backend Developer Intern</div><div class="app-role-meta">Amazon · Bangalore</div></td>
              <td><div class="match-badge">82%</div><div class="match-lbl">Match</div></td>
              <td style="font-size:12px;color:var(--muted)">Feb 01, 2025</td>
              <td><button class="btn btn-ghost" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation()">View CV</button></td>
              <td><div class="action-pair"><button class="btn btn-approve" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();approveRow(this)">Approve</button><button class="btn btn-reject" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();rejectRow(this)">Reject</button></div></td>
            </tr>
            <tr>
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--dark)">ST</div><div><div class="app-student-name">Sanjay T.</div><div class="app-student-meta">CS · 3rd Year</div></div></div></td>
              <td><div class="app-role">Software Engineer Intern</div><div class="app-role-meta">TCS · Mumbai</div></td>
              <td><div class="match-badge">71%</div><div class="match-lbl">Match</div></td>
              <td style="font-size:12px;color:var(--muted)">Feb 05, 2025</td>
              <td><button class="btn btn-ghost" style="height:30px;padding:0 12px;font-size:11px">View CV</button></td>
              <td><div class="action-pair"><button class="btn btn-approve" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();approveRow(this)">Approve</button><button class="btn btn-reject" style="height:30px;padding:0 12px;font-size:11px" onclick="event.stopPropagation();rejectRow(this)">Reject</button></div></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- ══════════════════════════════ APPROVED ══════════════════════════════ -->
  <div class="page" id="page-approved">
    <div class="ph">
      <div><h1 class="ph-title">Approved</h1><p class="ph-sub">4 students approved — offer letters sent</p></div>
      <div class="ph-actions"><button class="btn btn-outline">Download All Letters</button></div>
    </div>
    <div class="card">
      <div style="overflow-x:auto">
        <table class="app-table">
          <thead><tr><th>Student</th><th>Approved Role</th><th>Company</th><th>Approved On</th><th>Letter</th></tr></thead>
          <tbody>
            <tr onclick="openModal('Ravi Shankar','RS','ravi@college.edu','Data Science','Data Analyst Intern','TCS · Mumbai','Jan 18, 2025','79%',['Python','SQL','NumPy'],'approved')">
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--subtle)">RS</div><div><div class="app-student-name">Ravi Shankar</div><div class="app-student-meta">DS · 3rd Year</div></div></div></td>
              <td><div class="app-role">Data Analyst Intern</div></td>
              <td style="font-size:13px;font-weight:500">TCS · Mumbai</td>
              <td style="font-size:12px;color:var(--muted)">Jan 20, 2025</td>
              <td><button class="btn btn-dark" style="height:30px;padding:0 12px;font-size:11px">Download</button></td>
            </tr>
            <tr>
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--dark)">NV</div><div><div class="app-student-name">Neha Verma</div><div class="app-student-meta">AI · 3rd Year</div></div></div></td>
              <td><div class="app-role">ML Research Intern</div></td>
              <td style="font-size:13px;font-weight:500">Infosys · Chennai</td>
              <td style="font-size:12px;color:var(--muted)">Jan 25, 2025</td>
              <td><button class="btn btn-dark" style="height:30px;padding:0 12px;font-size:11px">Download</button></td>
            </tr>
            <tr>
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--mid)">AP</div><div><div class="app-student-name">Anand Pillai</div><div class="app-student-meta">CS · 4th Year</div></div></div></td>
              <td><div class="app-role">DevOps Intern</div></td>
              <td style="font-size:13px;font-weight:500">Wipro · Bangalore</td>
              <td style="font-size:12px;color:var(--muted)">Feb 02, 2025</td>
              <td><button class="btn btn-dark" style="height:30px;padding:0 12px;font-size:11px">Download</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- ══════════════════════════════ JOB POSTINGS ══════════════════════════════ -->
  <div class="page" id="page-jobposting">
    <div class="ph">
      <div><h1 class="ph-title">Job Postings</h1><p class="ph-sub">Create and manage internship listings</p></div>
      <div class="ph-actions">
        <button class="btn btn-dark" onclick="openJobForm()">
          <svg width="12" height="12" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" d="M12 4v16m8-8H4"/></svg>
          New Job Post
        </button>
      </div>
    </div>

    <div class="mini-stats">
      <div class="mini-stat"><div class="mini-stat-val" id="stat-total">{{ job_total }}</div><div class="mini-stat-lbl">Total Posts</div></div>
      <div class="mini-stat"><div class="mini-stat-val" id="stat-open">{{ job_open }}</div><div class="mini-stat-lbl">Open</div></div>
      <div class="mini-stat"><div class="mini-stat-val" id="stat-draft">{{ job_draft }}</div><div class="mini-stat-lbl">Draft</div></div>
      <div class="mini-stat"><div class="mini-stat-val" id="stat-closed">{{ job_closed }}</div><div class="mini-stat-lbl">Closed</div></div>
    </div>

    <div class="tabs" id="job-tabs">
      <button class="tab active" onclick="filterJobs(this,'all')">All <span class="tab-count" id="tab-count-all">{{ job_total }}</span></button>
      <button class="tab" onclick="filterJobs(this,'open')">Open <span class="tab-count" id="tab-count-open">{{ job_open }}</span></button>
      <button class="tab" onclick="filterJobs(this,'draft')">Draft <span class="tab-count" id="tab-count-draft">{{ job_draft }}</span></button>
      <button class="tab" onclick="filterJobs(this,'closed')">Closed <span class="tab-count" id="tab-count-closed">{{ job_closed }}</span></button>
    </div>

    <div class="job-cards-grid" id="job-cards-container">
      {% for j in job %}
      <div class="job-card" data-status="{{ j.status }}" data-id="{{ j.id }}"
           data-title="{{ j.job_title }}"
           data-company="{{ j.company.id }}"
           data-company-name="{{ j.company.company_name }}"
           data-location="{{ j.location }}"
           data-duration="{{ j.duration }}"
           data-stipend="{{ j.stipend }}"
           data-deadline="{{ j.deadline|date:'Y-m-d' }}"
           data-skills="{{ j.skills }}"
           data-description="{{ j.description }}"
           data-status-val="{{ j.status }}">
        <div class="job-card-header">
          <div>
            <div class="job-card-title">{{ j.job_title }}</div>
            <div class="job-card-company">{{ j.company.company_name }}</div>
          </div>
          <span class="job-status-badge badge-{{ j.status }}">
            {% if j.status == 'open' %}Open{% elif j.status == 'draft' %}Draft{% else %}Closed{% endif %}
          </span>
        </div>
        <div class="job-meta-row">
          <span class="job-meta-item">
            <svg width="11" height="11" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/></svg>
            {{ j.location }}
          </span>
          <span class="job-meta-item">
            <svg width="11" height="11" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path stroke-linecap="round" d="M12 6v6l4 2"/></svg>
            {{ j.duration }}
          </span>
          <span class="job-meta-item">
            <svg width="11" height="11" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
            {{ j.stipend }}
          </span>
        </div>
        <div class="job-skills-row">
          {% for skill in j.skills_list %}
            <span class="skill-tag">{{ skill }}</span>
          {% endfor %}
        </div>
        <div class="job-card-footer">
          <div class="job-apps-count">
            <strong>{{ j.application_set.count }}</strong>
            Application{{ j.application_set.count|pluralize }} · Deadline:
            {% if j.deadline %}{{ j.deadline|date:"M d, Y" }}{% else %}—{% endif %}
          </div>
          <div style="display:flex;gap:6px;align-items:center">
            {% if j.status != 'closed' %}
              <div class="edit-dropdown-wrap" id="dropdown-{{ j.id }}">
                <button class="btn btn-ghost" style="height:28px;padding:0 10px;font-size:10px;display:flex;align-items:center;gap:5px"
                  onclick="event.stopPropagation();toggleEditDropdown('{{ j.id }}')">
                  Edit
                  <svg width="9" height="9" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" d="M19 9l-7 7-7-7"/></svg>
                </button>
                <div class="edit-dropdown-menu">
                  <button class="edit-dropdown-item" onclick="event.stopPropagation();openEditForm('{{ j.id }}')">
                    <svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg>
                    Edit Details
                  </button>
                  <button class="edit-dropdown-item" onclick="event.stopPropagation();closeJobToStatus('{{ j.id }}')">
                    <svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"/></svg>
                    Close Posting
                  </button>
                  <div class="edit-dropdown-divider"></div>
                  <button class="edit-dropdown-item delete" onclick="event.stopPropagation();openDeleteConfirm('{{ j.id }}','{{ j.job_title }}')">
                    <svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path stroke-linecap="round" d="M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6m5 0V4a1 1 0 011-1h2a1 1 0 011 1v2"/></svg>
                    Delete Posting
                  </button>
                </div>
              </div>
            {% else %}
              <!-- Closed cards: only delete option -->
              <div class="edit-dropdown-wrap" id="dropdown-{{ j.id }}">
                <button class="btn btn-ghost" style="height:28px;padding:0 10px;font-size:10px;display:flex;align-items:center;gap:5px"
                  onclick="event.stopPropagation();toggleEditDropdown('{{ j.id }}')">
                  Actions
                  <svg width="9" height="9" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" d="M19 9l-7 7-7-7"/></svg>
                </button>
                <div class="edit-dropdown-menu">
                  <button class="edit-dropdown-item delete" onclick="event.stopPropagation();openDeleteConfirm('{{ j.id }}','{{ j.job_title }}')">
                    <svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path stroke-linecap="round" d="M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6m5 0V4a1 1 0 011-1h2a1 1 0 011 1v2"/></svg>
                    Delete Posting
                  </button>
                </div>
              </div>
            {% endif %}
            <button class="btn btn-dark" style="height:28px;padding:0 10px;font-size:10px"
              onclick="event.stopPropagation();showPage('jobapps', document.querySelectorAll('.nav-item')[5])">
              View Apps
            </button>
          </div>
        </div>
      </div>
      {% empty %}
      <div class="empty-state" style="grid-column:1/-1" id="empty-jobs-msg">
        <div class="empty-state-icon">📋</div>
        <div class="empty-state-title">No job postings yet</div>
        <div class="empty-state-sub">Click "New Job Post" to create your first listing</div>
      </div>
      {% endfor %}
    </div>
  </div>

  <!-- ══════════════════════════════ APPLICATIONS BY ROLE ══════════════════════════════ -->
  <div class="page" id="page-jobapps">
    <div class="ph">
      <div><h1 class="ph-title">Applications by Role</h1><p class="ph-sub">Browse applications grouped by job posting</p></div>
    </div>
    <div class="card">
      <div class="card-bd">
        <p style="color:var(--muted);font-size:13px">Select a job posting from the <strong>Job Postings</strong> page and click <em>View Apps</em> to see role-specific applications.</p>
      </div>
    </div>
  </div>

  <!-- ══════════════════════════════ SHORTLIST ══════════════════════════════ -->
  <div class="page" id="page-shortlist">
    <div class="ph">
      <div><h1 class="ph-title">Shortlist</h1><p class="ph-sub">8 candidates shortlisted across all roles</p></div>
      <div class="ph-actions">
        <button class="btn btn-outline">Export Shortlist</button>
        <button class="btn btn-dark" onclick="showPage('interviews', document.querySelectorAll('.nav-item')[8])">
          <svg width="12" height="12" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><rect x="3" y="4" width="18" height="18" rx="1"/><path d="M16 2v4M8 2v4M3 10h18"/></svg>
          Schedule Interviews
        </button>
      </div>
    </div>
    <div class="mini-stats">
      <div class="mini-stat"><div class="mini-stat-val">8</div><div class="mini-stat-lbl">Shortlisted</div></div>
      <div class="mini-stat"><div class="mini-stat-val">4</div><div class="mini-stat-lbl">Interviewed</div></div>
      <div class="mini-stat"><div class="mini-stat-val">3</div><div class="mini-stat-lbl">Pending Interview</div></div>
      <div class="mini-stat"><div class="mini-stat-val">1</div><div class="mini-stat-lbl">Offer Made</div></div>
    </div>
    <div class="card" style="margin-bottom:20px">
      <div class="shortlist-section-header">
        <div style="display:flex;align-items:center;justify-content:space-between">
          <span>ML Engineer Intern · Microsoft</span>
          <button class="btn btn-dark" style="height:28px;padding:0 12px;font-size:10px">Export</button>
        </div>
      </div>
      <div style="overflow-x:auto">
        <table class="app-table">
          <thead><tr><th>Student</th><th>Match Score</th><th>Skills</th><th>Interview</th><th>Status</th><th>Action</th></tr></thead>
          <tbody>
            <tr>
              <td><div class="stu-cell"><div class="stu-avatar">AK</div><div><div class="app-student-name">Arun Kumar</div><div class="app-student-meta">CS · 3rd Year</div></div></div></td>
              <td><div class="match-badge">87%</div><div class="match-lbl">Match</div></td>
              <td><div class="skills-wrap"><span class="skill-tag">Python</span><span class="skill-tag">ML</span></div></td>
              <td style="font-size:12px;color:var(--muted)">Feb 20, 2025 · 10:00 AM</td>
              <td><span class="s-pill s-scheduled">Scheduled</span></td>
              <td><button class="btn btn-outline" style="height:30px;padding:0 12px;font-size:11px">Reschedule</button></td>
            </tr>
            <tr>
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--dark)">ST</div><div><div class="app-student-name">Sanjay T.</div><div class="app-student-meta">CS · 3rd Year</div></div></div></td>
              <td><div class="match-badge">71%</div><div class="match-lbl">Match</div></td>
              <td><div class="skills-wrap"><span class="skill-tag">Python</span><span class="skill-tag">PyTorch</span></div></td>
              <td style="font-size:12px;color:var(--muted)">—</td>
              <td><span class="s-pill s-pending">Pending</span></td>
              <td><button class="btn btn-dark" style="height:30px;padding:0 12px;font-size:11px">Schedule</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="card" style="margin-bottom:20px">
      <div class="shortlist-section-header">
        <div style="display:flex;align-items:center;justify-content:space-between">
          <span>Frontend Developer Intern · Google India</span>
          <button class="btn btn-dark" style="height:28px;padding:0 12px;font-size:10px">Export</button>
        </div>
      </div>
      <div style="overflow-x:auto">
        <table class="app-table">
          <thead><tr><th>Student</th><th>Match Score</th><th>Skills</th><th>Interview</th><th>Status</th><th>Action</th></tr></thead>
          <tbody>
            <tr>
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--mid)">PN</div><div><div class="app-student-name">Priya Nair</div><div class="app-student-meta">IT · 2nd Year</div></div></div></td>
              <td><div class="match-badge">94%</div><div class="match-lbl">Match</div></td>
              <td><div class="skills-wrap"><span class="skill-tag">React</span><span class="skill-tag">CSS</span></div></td>
              <td style="font-size:12px;color:var(--muted)">Feb 21, 2025 · 2:00 PM</td>
              <td><span class="s-pill s-scheduled">Scheduled</span></td>
              <td><button class="btn btn-outline" style="height:30px;padding:0 12px;font-size:11px">Reschedule</button></td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- ══════════════════════════════ RANK LIST ══════════════════════════════ -->
  <div class="page" id="page-ranklist">
    <div class="ph">
      <div><h1 class="ph-title">Rank List</h1><p class="ph-sub">AI-powered candidate rankings by role match score</p></div>
      <div class="ph-actions">
        <select class="form-select" style="width:auto;height:36px;font-size:12px;font-weight:700">
          <option>All Roles</option>
          <option>ML Engineer Intern — Microsoft</option>
          <option>Frontend Developer — Google India</option>
          <option>Data Analyst — TCS</option>
        </select>
        <button class="btn btn-outline">Export Ranklist</button>
      </div>
    </div>
    <div class="mini-stats">
      <div class="mini-stat"><div class="mini-stat-val">12</div><div class="mini-stat-lbl">Ranked</div></div>
      <div class="mini-stat"><div class="mini-stat-val">94%</div><div class="mini-stat-lbl">Top Score</div></div>
      <div class="mini-stat"><div class="mini-stat-val">81%</div><div class="mini-stat-lbl">Avg Score</div></div>
      <div class="mini-stat"><div class="mini-stat-val">5</div><div class="mini-stat-lbl">Shortlisted</div></div>
    </div>
    <div style="margin-bottom:20px">
      <div class="shortlist-section-header" style="border:1px solid var(--ghost);border-bottom:none">All Roles — Ranked by AI Match Score</div>
      <div id="ranklist-container"></div>
    </div>
  </div>

  <!-- ══════════════════════════════ INTERVIEW SCHEDULE ══════════════════════════════ -->
  <div class="page" id="page-interviews">
    <div class="ph">
      <div><h1 class="ph-title">Interview Schedule</h1><p class="ph-sub">Manage and track all interview rounds</p></div>
      <div class="ph-actions">
        <button class="btn btn-outline">Export Schedule</button>
        <button class="btn btn-dark" onclick="openInterviewForm()">
          <svg width="12" height="12" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" d="M12 4v16m8-8H4"/></svg>
          Schedule Interview
        </button>
      </div>
    </div>
    <div class="mini-stats">
      <div class="mini-stat"><div class="mini-stat-val">4</div><div class="mini-stat-lbl">Today</div></div>
      <div class="mini-stat"><div class="mini-stat-val">9</div><div class="mini-stat-lbl">This Week</div></div>
      <div class="mini-stat"><div class="mini-stat-val">2</div><div class="mini-stat-lbl">Technical</div></div>
      <div class="mini-stat"><div class="mini-stat-val">2</div><div class="mini-stat-lbl">HR Round</div></div>
    </div>
    <div class="card" style="margin-bottom:24px">
      <div class="card-hd">
        <div class="card-hd-l">
          <div class="card-icon-wrap"><svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="1"/><path d="M16 2v4M8 2v4M3 10h18"/></svg></div>
          <div><div class="card-title">February 2025</div><div class="card-sub-text">Interview calendar view</div></div>
        </div>
        <div style="display:flex;gap:8px">
          <button class="btn btn-ghost" style="height:28px;padding:0 10px;font-size:11px">◀ Prev</button>
          <button class="btn btn-ghost" style="height:28px;padding:0 10px;font-size:11px">Next ▶</button>
        </div>
      </div>
      <div style="padding:0">
        <div class="calendar-grid">
          <div class="cal-day-header">Sun</div><div class="cal-day-header">Mon</div><div class="cal-day-header">Tue</div><div class="cal-day-header">Wed</div><div class="cal-day-header">Thu</div><div class="cal-day-header">Fri</div><div class="cal-day-header">Sat</div>
          <div class="cal-day other-month"><div class="cal-day-num">26</div></div>
          <div class="cal-day other-month"><div class="cal-day-num">27</div></div>
          <div class="cal-day other-month"><div class="cal-day-num">28</div></div>
          <div class="cal-day other-month"><div class="cal-day-num">29</div></div>
          <div class="cal-day other-month"><div class="cal-day-num">30</div></div>
          <div class="cal-day other-month"><div class="cal-day-num">31</div></div>
          <div class="cal-day"><div class="cal-day-num">1</div></div>
          <div class="cal-day"><div class="cal-day-num">2</div></div>
          <div class="cal-day"><div class="cal-day-num">3</div></div>
          <div class="cal-day"><div class="cal-day-num">4</div></div>
          <div class="cal-day"><div class="cal-day-num">5</div></div>
          <div class="cal-day"><div class="cal-day-num">6</div><div class="cal-event interview">Priya N.</div></div>
          <div class="cal-day"><div class="cal-day-num">7</div></div>
          <div class="cal-day"><div class="cal-day-num">8</div></div>
          <div class="cal-day"><div class="cal-day-num">9</div></div>
          <div class="cal-day"><div class="cal-day-num">10</div></div>
          <div class="cal-day"><div class="cal-day-num">11</div></div>
          <div class="cal-day"><div class="cal-day-num">12</div></div>
          <div class="cal-day"><div class="cal-day-num">13</div></div>
          <div class="cal-day"><div class="cal-day-num">14</div></div>
          <div class="cal-day"><div class="cal-day-num">15</div></div>
          <div class="cal-day"><div class="cal-day-num">16</div></div>
          <div class="cal-day"><div class="cal-day-num">17</div></div>
          <div class="cal-day"><div class="cal-day-num">18</div></div>
          <div class="cal-day"><div class="cal-day-num">19</div><div class="cal-event interview">Ravi S.</div></div>
          <div class="cal-day today"><div class="cal-day-num">20</div><div class="cal-event" style="background:var(--white);color:var(--black)">Arun K.</div></div>
          <div class="cal-day"><div class="cal-day-num">21</div><div class="cal-event pending">Meena R.</div></div>
          <div class="cal-day"><div class="cal-day-num">22</div></div>
          <div class="cal-day"><div class="cal-day-num">23</div></div>
          <div class="cal-day"><div class="cal-day-num">24</div></div>
          <div class="cal-day"><div class="cal-day-num">25</div></div>
          <div class="cal-day"><div class="cal-day-num">26</div></div>
          <div class="cal-day"><div class="cal-day-num">27</div></div>
          <div class="cal-day"><div class="cal-day-num">28</div></div>
        </div>
      </div>
    </div>
    <div class="ph" style="margin-bottom:16px;padding-bottom:16px">
      <div><div class="ph-title" style="font-size:18px">Today's Interviews</div><div class="ph-sub">Feb 20, 2025</div></div>
    </div>
    <div class="interview-list">
      <div class="interview-row">
        <div><div class="interview-time">10:00 AM</div><div class="interview-time-sub">45 min</div></div>
        <div class="interview-divider"></div>
        <div class="interview-details"><div class="interview-name">Arun Kumar</div><div class="interview-meta">ML Engineer Intern · Microsoft · Technical Round 1</div></div>
        <span class="interview-type type-technical">Technical</span>
        <span class="s-pill s-scheduled" style="margin-left:8px">Confirmed</span>
        <div class="action-pair" style="margin-left:8px">
          <button class="btn btn-ghost" style="height:30px;padding:0 12px;font-size:11px">Reschedule</button>
          <button class="btn btn-dark" style="height:30px;padding:0 12px;font-size:11px">Join</button>
        </div>
      </div>
      <div class="interview-row">
        <div><div class="interview-time">11:30 AM</div><div class="interview-time-sub">30 min</div></div>
        <div class="interview-divider"></div>
        <div class="interview-details"><div class="interview-name">Priya Nair</div><div class="interview-meta">Frontend Developer Intern · Google India · HR Round</div></div>
        <span class="interview-type type-hr">HR</span>
        <span class="s-pill s-scheduled" style="margin-left:8px">Confirmed</span>
        <div class="action-pair" style="margin-left:8px">
          <button class="btn btn-ghost" style="height:30px;padding:0 12px;font-size:11px">Reschedule</button>
          <button class="btn btn-dark" style="height:30px;padding:0 12px;font-size:11px">Join</button>
        </div>
      </div>
      <div class="interview-row">
        <div><div class="interview-time">2:00 PM</div><div class="interview-time-sub">60 min</div></div>
        <div class="interview-divider"></div>
        <div class="interview-details"><div class="interview-name">Meena Raj</div><div class="interview-meta">Backend Developer Intern · Amazon · Technical Round 1</div></div>
        <span class="interview-type type-technical">Technical</span>
        <span class="s-pill s-pending" style="margin-left:8px">Pending</span>
        <div class="action-pair" style="margin-left:8px">
          <button class="btn btn-ghost" style="height:30px;padding:0 12px;font-size:11px">Reschedule</button>
          <button class="btn btn-dark" style="height:30px;padding:0 12px;font-size:11px">Join</button>
        </div>
      </div>
      <div class="interview-row">
        <div><div class="interview-time">4:00 PM</div><div class="interview-time-sub">30 min</div></div>
        <div class="interview-divider"></div>
        <div class="interview-details"><div class="interview-name">Ravi Shankar</div><div class="interview-meta">Data Analyst Intern · TCS · Final Round</div></div>
        <span class="interview-type type-final">Final</span>
        <span class="s-pill s-approved" style="margin-left:8px">Approved</span>
        <div class="action-pair" style="margin-left:8px">
          <button class="btn btn-outline" style="height:30px;padding:0 12px;font-size:11px">View Notes</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ══════════════════════════════ SOCIAL MEDIA ══════════════════════════════ -->
  <div class="page" id="page-social">
    <div class="ph">
      <div><h1 class="ph-title">Social Media</h1><p class="ph-sub">Manage job post announcements across platforms</p></div>
      <div class="ph-actions">
        <button class="btn btn-outline">Analytics</button>
        <button class="btn btn-dark" onclick="openSocialForm()">
          <svg width="12" height="12" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" d="M12 4v16m8-8H4"/></svg>
          Create Post
        </button>
      </div>
    </div>
    <div class="mini-stats">
      <div class="mini-stat"><div class="mini-stat-val">12</div><div class="mini-stat-lbl">Total Posts</div></div>
      <div class="mini-stat"><div class="mini-stat-val">8</div><div class="mini-stat-lbl">Published</div></div>
      <div class="mini-stat"><div class="mini-stat-val">3</div><div class="mini-stat-lbl">Scheduled</div></div>
      <div class="mini-stat"><div class="mini-stat-val">2.4k</div><div class="mini-stat-lbl">Total Reach</div></div>
    </div>
    <div class="tabs">
      <button class="tab active" onclick="filterSocial(this,'all')">All <span class="tab-count">12</span></button>
      <button class="tab" onclick="filterSocial(this,'linkedin')">LinkedIn <span class="tab-count">5</span></button>
      <button class="tab" onclick="filterSocial(this,'twitter')">Twitter/X <span class="tab-count">4</span></button>
      <button class="tab" onclick="filterSocial(this,'instagram')">Instagram <span class="tab-count">3</span></button>
    </div>
    <div class="social-post-cards" id="social-cards-container"></div>
  </div>

  <!-- ══════════════════════════════ STUDENTS ══════════════════════════════ -->
  <div class="page" id="page-students">
    <div class="ph">
      <div><h1 class="ph-title">Students</h1><p class="ph-sub">All registered students on InternHub</p></div>
    </div>
    <div class="sf-bar">
      <div class="sf-search">
        <svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
        <input type="text" placeholder="Search students by name or course…">
      </div>
    </div>
    <div class="card">
      <div style="overflow-x:auto">
        <table class="app-table">
          <thead><tr><th>Student</th><th>Course</th><th>CV</th><th>Skills</th><th>Applications</th><th>Registered</th></tr></thead>
          <tbody>
            <tr onclick="openModal('Arun Kumar','AK','arun@college.edu','Computer Science','ML Engineer Intern','Microsoft · Hybrid','Jan 22, 2025','87%',['Python','ML','TensorFlow'],'review')">
              <td><div class="stu-cell"><div class="stu-avatar">AK</div><div><div class="app-student-name">Arun Kumar</div><div class="app-student-meta">arun@college.edu</div></div></div></td>
              <td style="font-size:13px">Computer Science</td>
              <td><span class="s-pill s-approved">Uploaded</span></td>
              <td><div class="skills-wrap"><span class="skill-tag">Python</span><span class="skill-tag">ML</span><span class="skill-tag">+3</span></div></td>
              <td style="font-weight:700;font-size:14px">2</td>
              <td style="font-size:12px;color:var(--muted)">Jan 10, 2025</td>
            </tr>
            <tr onclick="openModal('Priya Nair','PN','priya@college.edu','Information Technology','Frontend Developer Intern','Google India · Remote','Jan 28, 2025','94%',['React','JavaScript','CSS'],'pending')">
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--mid)">PN</div><div><div class="app-student-name">Priya Nair</div><div class="app-student-meta">priya@college.edu</div></div></div></td>
              <td style="font-size:13px">Information Technology</td>
              <td><span class="s-pill s-approved">Uploaded</span></td>
              <td><div class="skills-wrap"><span class="skill-tag">React</span><span class="skill-tag">CSS</span><span class="skill-tag">+2</span></div></td>
              <td style="font-weight:700;font-size:14px">1</td>
              <td style="font-size:12px;color:var(--muted)">Jan 15, 2025</td>
            </tr>
            <tr onclick="openModal('Ravi Shankar','RS','ravi@college.edu','Data Science','Data Analyst Intern','TCS · Mumbai','Jan 18, 2025','79%',['Python','SQL','NumPy'],'approved')">
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--subtle)">RS</div><div><div class="app-student-name">Ravi Shankar</div><div class="app-student-meta">ravi@college.edu</div></div></div></td>
              <td style="font-size:13px">Data Science</td>
              <td><span class="s-pill s-approved">Uploaded</span></td>
              <td><div class="skills-wrap"><span class="skill-tag">Python</span><span class="skill-tag">SQL</span><span class="skill-tag">+2</span></div></td>
              <td style="font-weight:700;font-size:14px">1</td>
              <td style="font-size:12px;color:var(--muted)">Jan 08, 2025</td>
            </tr>
            <tr>
              <td><div class="stu-cell"><div class="stu-avatar" style="background:var(--ghost);color:var(--muted)">KP</div><div><div class="app-student-name">Kiran Patel</div><div class="app-student-meta">kiran@college.edu</div></div></div></td>
              <td style="font-size:13px">AI & ML</td>
              <td><span class="s-pill s-rejected">Missing</span></td>
              <td><div class="skills-wrap"><span class="skill-tag">React</span><span class="skill-tag">Node.js</span></div></td>
              <td style="font-weight:700;font-size:14px">1</td>
              <td style="font-size:12px;color:var(--muted)">Dec 01, 2024</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- ══════════════════════════════ NOTIFICATIONS ══════════════════════════════ -->
  <div class="page" id="page-notifications">
    <div class="ph">
      <div><h1 class="ph-title">Notifications</h1><p class="ph-sub">3 unread alerts</p></div>
      <button class="btn btn-outline" style="font-size:11px;text-transform:uppercase">Mark all read</button>
    </div>
    <div class="card">
      <div class="card-bd" style="padding:0 24px">
        <div class="notif-list">
          <div class="notif-row"><div class="ni-icon" style="background:var(--black)"><svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="white" stroke-width="2.5"><path stroke-linecap="round" d="M5 13l4 4L19 7"/></svg></div><div><div class="ni-text"><strong>New Application!</strong> Priya Nair applied for <strong>Frontend Developer Intern</strong> at Google India.</div><div class="ni-time">2 hours ago</div></div></div>
          <div class="notif-row"><div class="ni-icon"><svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="var(--mid)" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="1"/><path d="M16 2v4M8 2v4M3 10h18"/></svg></div><div><div class="ni-text"><strong>Interview Reminder:</strong> 4 interviews scheduled for <strong>today, Feb 20</strong>. Starting at 10:00 AM.</div><div class="ni-time">3 hours ago</div></div></div>
          <div class="notif-row"><div class="ni-icon"><svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="var(--mid)" stroke-width="2"><path stroke-linecap="square" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2"/></svg></div><div><div class="ni-text"><strong>5 applications</strong> are awaiting review. Oldest pending since <strong>Jan 22</strong>.</div><div class="ni-time">5 hours ago</div></div></div>
          <div class="notif-row"><div class="ni-icon"><svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="var(--mid)" stroke-width="2"><path stroke-linecap="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"/></svg></div><div><div class="ni-text"><strong>Arun Kumar</strong>'s application has been under review for more than <strong>3 days</strong>.</div><div class="ni-time">1 day ago</div></div></div>
          <div class="notif-row"><div class="ni-icon"><svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="var(--muted)" stroke-width="2"><path stroke-linecap="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/></svg></div><div><div class="ni-text"><strong>Ravi Shankar</strong> has accepted the offer letter from TCS. Internship confirmed.</div><div class="ni-time">2 days ago</div></div></div>
        </div>
      </div>
    </div>
  </div>

</main>

<!-- ══════════════════════════════
     STUDENT DETAIL MODAL
══════════════════════════════ -->
<div class="modal-overlay" id="modal-overlay" onclick="closeModal()">
  <div class="modal" onclick="event.stopPropagation()">
    <div class="modal-hd">
      <div class="modal-title">Application Detail</div>
      <button class="modal-close" onclick="closeModal()">
        <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" d="M6 18L18 6M6 6l12 12"/></svg>
      </button>
    </div>
    <div class="modal-profile">
      <div class="modal-avatar" id="m-avatar">AK</div>
      <div>
        <div class="modal-name" id="m-name">—</div>
        <div class="modal-email" id="m-email">—</div>
        <div class="modal-tags" id="m-tags"></div>
      </div>
      <div class="modal-actions-bar" id="m-actions"></div>
    </div>
    <div class="modal-body">
      <div class="modal-section">
        <div class="modal-section-title">Application Info</div>
        <div class="info-grid">
          <div class="info-item"><div class="info-label">Role</div><div class="info-val" id="m-role">—</div></div>
          <div class="info-item"><div class="info-label">Company</div><div class="info-val" id="m-company">—</div></div>
          <div class="info-item"><div class="info-label">Applied On</div><div class="info-val" id="m-date">—</div></div>
          <div class="info-item"><div class="info-label">AI Match Score</div><div class="info-val" id="m-match" style="font-weight:900;font-size:20px;letter-spacing:-.03em">—</div></div>
        </div>
      </div>
      <div class="modal-section">
        <div class="modal-section-title">Student Details</div>
        <div class="info-grid">
          <div class="info-item"><div class="info-label">Course</div><div class="info-val" id="m-course">—</div></div>
          <div class="info-item"><div class="info-label">Email</div><div class="info-val" id="m-email2">—</div></div>
        </div>
      </div>
      <div class="modal-section">
        <div class="modal-section-title">AI-Extracted Skills</div>
        <div class="skills-wrap" id="m-skills" style="gap:7px;flex-wrap:wrap"></div>
      </div>
      <div class="modal-section">
        <div class="modal-section-title">Current Status</div>
        <div id="m-status-pill"></div>
      </div>
    </div>
  </div>
</div>

<!-- ══════════════════════════════
     NEW JOB FORM MODAL
══════════════════════════════ -->
<div class="modal-overlay" id="job-form-overlay" onclick="closeJobForm()">
  <div class="form-modal" onclick="event.stopPropagation()">
    <form id="jobForm">
      {% csrf_token %}
      <div class="modal-hd">
        <div class="modal-title">New Job Posting</div>
        <button type="button" class="modal-close" onclick="closeJobForm()">
          <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-grid">
          <div class="form-row">
            <label class="form-label">Job Title</label>
            <input name="job_title" class="form-input" placeholder="e.g. ML Engineer Intern" required>
          </div>
          <div class="form-row">
            <label class="form-label">Company</label>
            <select class="form-select" name="company" required>
              <option value="">Select Company</option>
              {% for c in company %}
                <option value="{{ c.id }}">{{ c.company_name }}</option>
              {% endfor %}
            </select>
          </div>
        </div>
        <div class="form-grid">
          <div class="form-row">
            <label class="form-label">Location</label>
            <select name="location" class="form-input">
              <option value="">Select Location</option>
              {% for c in company %}
                <option value="{{ c.location }}">{{ c.location }}</option>
              {% endfor %}
            </select>
          </div>
          <div class="form-row">
            <label class="form-label">Duration</label>
            <input name="duration" class="form-input" placeholder="e.g. 3–6 months">
          </div>
        </div>
        <div class="form-grid">
          <div class="form-row">
            <label class="form-label">Stipend</label>
            <input name="stipend" class="form-input" placeholder="e.g. ₹15,000/month">
          </div>
          <div class="form-row">
            <label class="form-label">Deadline</label>
            <input name="deadline" class="form-input" type="date">
          </div>
        </div>
        <div class="form-row">
          <label class="form-label">Required Skills</label>
          <input name="skills" class="form-input" placeholder="Python, ML, TensorFlow">
        </div>
        <div class="form-row">
          <label class="form-label">Job Description</label>
          <textarea name="description" class="form-textarea" placeholder="Describe the role..."></textarea>
        </div>
        <div class="form-row">
          <label class="form-label">Status</label>
          <select name="status" class="form-select">
            <option value="open">Open — Accepting Applications</option>
            <option value="draft">Draft — Not Published</option>
            <option value="closed">Closed</option>
          </select>
        </div>
      </div>
      <div class="form-footer">
        <button type="button" class="btn btn-ghost" onclick="closeJobForm()">Cancel</button>
        <button type="submit" class="btn btn-dark">Publish Job Post</button>
      </div>
    </form>
  </div>
</div>

<!-- ══════════════════════════════
     EDIT JOB FORM MODAL
══════════════════════════════ -->
<div class="modal-overlay" id="edit-job-form-overlay" onclick="closeEditForm()">
  <div class="form-modal" onclick="event.stopPropagation()">
    <form id="editJobForm">
      {% csrf_token %}
      <input type="hidden" id="edit-job-id" name="job_id">
      <div class="modal-hd">
        <div class="modal-title">Edit Job Posting</div>
        <button type="button" class="modal-close" onclick="closeEditForm()">
          <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-grid">
          <div class="form-row">
            <label class="form-label">Job Title</label>
            <input id="edit-job-title" name="job_title" class="form-input" placeholder="e.g. ML Engineer Intern" required>
          </div>
          <div class="form-row">
            <label class="form-label">Company</label>
            <select id="edit-company" class="form-select" name="company" required>
              <option value="">Select Company</option>
              {% for c in company %}
                <option value="{{ c.id }}">{{ c.company_name }}</option>
              {% endfor %}
            </select>
          </div>
        </div>
        <div class="form-grid">
          <div class="form-row">
            <label class="form-label">Location</label>
            <input id="edit-location" name="location" class="form-input" placeholder="e.g. Bangalore">
          </div>
          <div class="form-row">
            <label class="form-label">Duration</label>
            <input id="edit-duration" name="duration" class="form-input" placeholder="e.g. 3–6 months">
          </div>
        </div>
        <div class="form-grid">
          <div class="form-row">
            <label class="form-label">Stipend</label>
            <input id="edit-stipend" name="stipend" class="form-input" placeholder="e.g. ₹15,000/month">
          </div>
          <div class="form-row">
            <label class="form-label">Deadline</label>
            <input id="edit-deadline" name="deadline" class="form-input" type="date">
          </div>
        </div>
        <div class="form-row">
          <label class="form-label">Required Skills</label>
          <input id="edit-skills" name="skills" class="form-input" placeholder="Python, ML, TensorFlow">
        </div>
        <div class="form-row">
          <label class="form-label">Job Description</label>
          <textarea id="edit-description" name="description" class="form-textarea" placeholder="Describe the role..."></textarea>
        </div>
        <div class="form-row">
          <label class="form-label">Status</label>
          <select id="edit-status" name="status" class="form-select">
            <option value="open">Open — Accepting Applications</option>
            <option value="draft">Draft — Not Published</option>
            <option value="closed">Closed</option>
          </select>
        </div>
      </div>
      <div class="form-footer">
        <button type="button" class="btn btn-ghost" onclick="closeEditForm()">Cancel</button>
        <button type="submit" class="btn btn-dark">Save Changes</button>
      </div>
    </form>
  </div>
</div>

<!-- ══════════════════════════════
     DELETE CONFIRM MODAL
══════════════════════════════ -->
<div class="modal-overlay" id="delete-confirm-overlay" onclick="closeDeleteConfirm()">
  <div class="confirm-modal" onclick="event.stopPropagation()">
    <div class="confirm-modal-body">
      <div class="confirm-icon">
        <svg width="22" height="22" fill="none" viewBox="0 0 24 24" stroke="#dc2626" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path stroke-linecap="round" d="M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6m5 0V4a1 1 0 011-1h2a1 1 0 011 1v2"/></svg>
      </div>
      <div class="confirm-title">Delete Job Posting?</div>
      <div class="confirm-desc">You're about to permanently delete <strong id="delete-job-title-text">this job posting</strong>. This action cannot be undone and will remove all associated data.</div>
    </div>
    <div class="confirm-footer">
      <button class="btn btn-ghost" onclick="closeDeleteConfirm()">Cancel</button>
      <button class="btn btn-danger" id="confirm-delete-btn" onclick="executeDelete()">
        <svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path stroke-linecap="round" d="M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6m5 0V4a1 1 0 011-1h2a1 1 0 011 1v2"/></svg>
        Yes, Delete
      </button>
    </div>
  </div>
</div>

<!-- ══════════════════════════════
     INTERVIEW FORM MODAL
══════════════════════════════ -->
<div class="modal-overlay" id="interview-form-overlay" onclick="closeInterviewForm()">
  <div class="form-modal" onclick="event.stopPropagation()">
    <div class="modal-hd">
      <div class="modal-title">Schedule Interview</div>
      <button class="modal-close" onclick="closeInterviewForm()">
        <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" d="M6 18L18 6M6 6l12 12"/></svg>
      </button>
    </div>
    <div class="modal-body">
      <div class="form-row"><label class="form-label">Candidate</label>
        <select class="form-select">
          <option>Arun Kumar — ML Engineer Intern, Microsoft</option>
          <option>Priya Nair — Frontend Developer, Google India</option>
          <option>Meena Raj — Backend Developer, Amazon</option>
          <option>Sanjay T. — Software Engineer, TCS</option>
        </select>
      </div>
      <div class="form-grid">
        <div class="form-row"><label class="form-label">Interview Date</label><input class="form-input" type="date"></div>
        <div class="form-row"><label class="form-label">Time</label><input class="form-input" type="time"></div>
      </div>
      <div class="form-grid">
        <div class="form-row"><label class="form-label">Duration</label>
          <select class="form-select"><option>30 minutes</option><option>45 minutes</option><option selected>60 minutes</option></select>
        </div>
        <div class="form-row"><label class="form-label">Interview Type</label>
          <select class="form-select"><option>Technical Round</option><option>HR Round</option><option>Final Round</option></select>
        </div>
      </div>
      <div class="form-row"><label class="form-label">Interview Mode</label>
        <select class="form-select"><option>Online (Google Meet)</option><option>Online (Zoom)</option><option>In-Person</option><option>Phone</option></select>
      </div>
      <div class="form-row"><label class="form-label">Interviewer(s)</label><input class="form-input" placeholder="Enter interviewer name(s)"></div>
      <div class="form-row"><label class="form-label">Notes</label><textarea class="form-textarea" placeholder="Any special instructions or topics to cover…"></textarea></div>
    </div>
    <div class="form-footer">
      <button class="btn btn-ghost" onclick="closeInterviewForm()">Cancel</button>
      <button class="btn btn-dark" onclick="submitInterviewForm()">Schedule Interview</button>
    </div>
  </div>
</div>

<!-- ══════════════════════════════
     SOCIAL FORM MODAL
══════════════════════════════ -->
<div class="modal-overlay" id="social-form-overlay" onclick="closeSocialForm()">
  <div class="form-modal" onclick="event.stopPropagation()">
    <div class="modal-hd">
      <div class="modal-title">Create Social Media Post</div>
      <button class="modal-close" onclick="closeSocialForm()">
        <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" d="M6 18L18 6M6 6l12 12"/></svg>
      </button>
    </div>
    <div class="modal-body">
      <div class="form-row"><label class="form-label">Job Posting</label>
        <select class="form-select">
          <option>ML Engineer Intern — Microsoft</option>
          <option>Frontend Developer — Google India</option>
          <option>Data Analyst — TCS</option>
          <option>Custom Post</option>
        </select>
      </div>
      <div class="form-row"><label class="form-label">Platforms</label>
        <div style="display:flex;gap:10px;flex-wrap:wrap;margin-top:4px">
          <label style="display:flex;align-items:center;gap:6px;font-size:12px;font-weight:600;cursor:pointer"><input type="checkbox" checked> LinkedIn</label>
          <label style="display:flex;align-items:center;gap:6px;font-size:12px;font-weight:600;cursor:pointer"><input type="checkbox"> Twitter/X</label>
          <label style="display:flex;align-items:center;gap:6px;font-size:12px;font-weight:600;cursor:pointer"><input type="checkbox"> Instagram</label>
        </div>
      </div>
      <div class="form-row"><label class="form-label">Post Content</label>
        <textarea class="form-textarea" style="min-height:120px">🚀 We're hiring! InternHub is looking for a talented ML Engineer Intern to join Microsoft this summer.

📍 Location: Hybrid | Duration: 6 months
💡 Skills needed: Python, ML, TensorFlow

Apply now through InternHub portal! 🎓

#Internship #MLEngineering #Microsoft #InternHub</textarea>
      </div>
      <div class="form-grid">
        <div class="form-row"><label class="form-label">Schedule Date</label><input class="form-input" type="date"></div>
        <div class="form-row"><label class="form-label">Schedule Time</label><input class="form-input" type="time"></div>
      </div>
      <div class="form-row"><label class="form-label">Status</label>
        <select class="form-select"><option>Post Immediately</option><option>Schedule for Later</option><option>Save as Draft</option></select>
      </div>
    </div>
    <div class="form-footer">
      <button class="btn btn-ghost" onclick="closeSocialForm()">Cancel</button>
      <button class="btn btn-outline">Save Draft</button>
      <button class="btn btn-dark" onclick="submitSocialForm()">Publish Post</button>
    </div>
  </div>
</div>

<script>

  /* ═══════════════════════════════════
     STATE
  ═══════════════════════════════════ */
  let pendingDeleteId = null;

  /* ═══════════════════════════════════
     DATE
  ═══════════════════════════════════ */
  document.addEventListener('DOMContentLoaded', () => {
    const d = new Date();
    const days   = ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'];
    const months = ['January','February','March','April','May','June','July','August','September','October','November','December'];
    const suf    = n => n + (n%10==1&&n!==11?'st':n%10==2&&n!==12?'nd':n%10==3&&n!==13?'rd':'th');
    const el = document.getElementById('dash-date');
    if (el) el.textContent = days[d.getDay()] + ', ' + months[d.getMonth()] + ' ' + suf(d.getDate()) + ' · InternHub HR Portal';
    renderRankList();
    renderSocialCards();
  });

  /* ═══════════════════════════════════
     PAGE NAVIGATION
  ═══════════════════════════════════ */
  function showPage(name, btn) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
    const page = document.getElementById('page-' + name);
    if (page) page.classList.add('active');
    if (btn) btn.classList.add('active');
    closeAllDropdowns();
    if (window.innerWidth <= 768) closeSidebar();
    window.scrollTo(0, 0);
  }

  /* ═══════════════════════════════════
     SIDEBAR
  ═══════════════════════════════════ */
  function toggleSidebar() {
    document.getElementById('sidebar').classList.toggle('open');
    document.getElementById('overlay').classList.toggle('open');
  }
  function closeSidebar() {
    document.getElementById('sidebar').classList.remove('open');
    document.getElementById('overlay').classList.remove('open');
  }

  /* ═══════════════════════════════════
     APPROVE / REJECT
  ═══════════════════════════════════ */
  function approveRow(btn) {
    const td   = btn.closest('td');
    const row  = btn.closest('tr');
    const pill = row.querySelector('.s-pill');
    if (pill) { pill.className = 's-pill s-approved'; pill.textContent = 'Approved'; }
    td.innerHTML = '<button class="btn btn-outline" style="height:30px;padding:0 12px;font-size:11px">View Letter</button>';
  }
  function rejectRow(btn) {
    const td   = btn.closest('td');
    const row  = btn.closest('tr');
    const pill = row.querySelector('.s-pill');
    if (pill) { pill.className = 's-pill s-rejected'; pill.textContent = 'Rejected'; }
    td.innerHTML = '<button class="btn btn-ghost" style="height:30px;padding:0 12px;font-size:11px">Feedback</button>';
  }

  /* ═══════════════════════════════════
     APPLICATION FILTER & SEARCH
  ═══════════════════════════════════ */
  function filterApps(tab, status) {
    document.querySelectorAll('#page-applications .tab').forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    document.querySelectorAll('#apps-tbody tr').forEach(row => {
      row.style.display = (status === 'all' || row.dataset.status === status) ? '' : 'none';
    });
  }
  function searchApps(val) {
    const q = val.toLowerCase();
    document.querySelectorAll('#apps-tbody tr').forEach(row => {
      row.style.display = row.textContent.toLowerCase().includes(q) ? '' : 'none';
    });
  }

  /* ═══════════════════════════════════
     STUDENT DETAIL MODAL
  ═══════════════════════════════════ */
  function openModal(name, initials, email, course, role, company, date, match, skills, status) {
    document.getElementById('m-avatar').textContent = initials;
    document.getElementById('m-name').textContent   = name;
    document.getElementById('m-email').textContent  = email;
    document.getElementById('m-email2').textContent = email;
    document.getElementById('m-role').textContent    = role;
    document.getElementById('m-company').textContent = company;
    document.getElementById('m-date').textContent    = date;
    document.getElementById('m-match').textContent   = match;
    document.getElementById('m-course').textContent  = course;
    const tagsEl = document.getElementById('m-tags');
    tagsEl.innerHTML = `<span class="modal-tag">${course}</span><span class="modal-tag">CV Uploaded ✓</span>`;
    const skillsEl = document.getElementById('m-skills');
    skillsEl.innerHTML = skills.map(s => `<span class="skill-tag">${s}</span>`).join('');
    const statusEl = document.getElementById('m-status-pill');
    const statusMap = { review:['s-review','Under Review'], pending:['s-pending','Pending'], approved:['s-approved','Approved'], rejected:['s-rejected','Rejected'] };
    const [cls, lbl] = statusMap[status] || ['s-pending', 'Pending'];
    statusEl.innerHTML = `<span class="s-pill ${cls}">${lbl}</span>`;
    const actEl = document.getElementById('m-actions');
    if (status === 'pending' || status === 'review') {
      actEl.innerHTML = `<button class="btn btn-ghost" style="border-color:rgba(255,255,255,.2);color:var(--muted)" onclick="alert('Opening CV…')">View CV</button><button class="btn" style="background:var(--white);color:var(--black);font-size:12px" onclick="closeModal()">Approve</button>`;
    } else if (status === 'approved') {
      actEl.innerHTML = `<button class="btn" style="background:var(--white);color:var(--black);font-size:12px">Download Letter</button>`;
    } else {
      actEl.innerHTML = `<button class="btn btn-ghost" style="border-color:rgba(255,255,255,.2);color:var(--muted)">View Feedback</button>`;
    }
    document.getElementById('modal-overlay').classList.add('open');
    document.body.style.overflow = 'hidden';
  }
  function closeModal() {
    document.getElementById('modal-overlay').classList.remove('open');
    document.body.style.overflow = '';
  }

  /* ═══════════════════════════════════
     JOB FILTER TABS
  ═══════════════════════════════════ */
  function filterJobs(tab, status) {
    document.querySelectorAll('#page-jobposting .tab').forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    document.querySelectorAll('#job-cards-container .job-card').forEach(card => {
      card.style.display = (status === 'all' || card.dataset.status === status) ? '' : 'none';
    });
  }

  /* ═══════════════════════════════════
     EDIT DROPDOWN
  ═══════════════════════════════════ */
  function closeAllDropdowns() {
    document.querySelectorAll('.edit-dropdown-wrap.open').forEach(d => d.classList.remove('open'));
  }

  function toggleEditDropdown(id) {
    const wrap = document.getElementById('dropdown-' + id);
    const isOpen = wrap.classList.contains('open');
    closeAllDropdowns();
    if (!isOpen) wrap.classList.add('open');
  }

  // Close dropdowns when clicking outside
  document.addEventListener('click', function(e) {
    if (!e.target.closest('.edit-dropdown-wrap')) {
      closeAllDropdowns();
    }
  });

  /* ═══════════════════════════════════
     OPEN EDIT FORM (pre-filled)
  ═══════════════════════════════════ */
  function openEditForm(jobId){

    const card = document.querySelector(`.job-card[data-id="${jobId}"]`);

    document.getElementById("edit-job-id").value = card.dataset.id;
    document.getElementById("edit-job-title").value = card.dataset.title;
    document.getElementById("edit-company").value = card.dataset.company;
    document.getElementById("edit-location").value = card.dataset.location;
    document.getElementById("edit-duration").value = card.dataset.duration;
    document.getElementById("edit-stipend").value = card.dataset.stipend;
    document.getElementById("edit-deadline").value = card.dataset.deadline;
    document.getElementById("edit-skills").value = card.dataset.skills;
    document.getElementById("edit-description").value = card.dataset.description;
    document.getElementById("edit-status").value = card.dataset.statusVal;

    document.getElementById("edit-job-form-overlay").style.display = "flex";
}

function closeEditForm(){
    document.getElementById("edit-job-form-overlay").style.display = "none";
}


  /* ═══════════════════════════════════
     CLOSE POSTING (status → closed)
  ═══════════════════════════════════ */
  function closeJobToStatus(jobId) {
    closeAllDropdowns();
    const card = document.querySelector(`.job-card[data-id="${jobId}"]`);
    if (!card) return;
    if (!confirm('Close this job posting? It will no longer accept applications.')) return;

    // Update UI immediately
    card.dataset.status    = 'closed';
    card.dataset.statusVal = 'closed';
    const badgeEl = card.querySelector('.job-status-badge');
    badgeEl.textContent = 'Closed';
    badgeEl.className   = 'job-status-badge badge-closed';

    // Remove Edit button, keep Actions (delete only)
    const footerBtns = card.querySelector('.job-card-footer > div:last-child');
    const dropWrap = footerBtns.querySelector('.edit-dropdown-wrap');
    if (dropWrap) {
      dropWrap.querySelector('button').textContent = 'Actions ▾';
      const menu = dropWrap.querySelector('.edit-dropdown-menu');
      menu.innerHTML = `
        <button class="edit-dropdown-item delete" onclick="event.stopPropagation();openDeleteConfirm('${jobId}','${card.dataset.title}')">
          <svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path stroke-linecap="round" d="M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6m5 0V4a1 1 0 011-1h2a1 1 0 011 1v2"/></svg>
          Delete Posting
        </button>`;
    }
    showToast('Job posting closed successfully.');
  }

  /* ═══════════════════════════════════
     DELETE CONFIRM
  ═══════════════════════════════════ */
  function openDeleteConfirm(jobId, jobTitle) {
    closeAllDropdowns();
    pendingDeleteId = jobId;
    document.getElementById('delete-job-title-text').textContent = `"${jobTitle}"`;
    document.getElementById('delete-confirm-overlay').classList.add('open');
    document.body.style.overflow = 'hidden';
  }
  function closeDeleteConfirm() {
    pendingDeleteId = null;
    document.getElementById('delete-confirm-overlay').classList.remove('open');
    document.body.style.overflow = '';
  }
  function executeDelete() {
    if (!pendingDeleteId) return;
    const jobId = pendingDeleteId;

    fetch('/delete_job/', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
      },
      body: JSON.stringify({ job_id: jobId })
    })
    .then(r => r.json())
    .then(data => {
      if (data.success) {
        removeJobCard(jobId);
        showToast('Job posting deleted successfully.');
      } else {
        showToast('Failed to delete. Please try again.', true);
      }
    })
    .catch(() => {
      // UI-only fallback
      removeJobCard(jobId);
      showToast('Job posting deleted (UI only).');
    });

    closeDeleteConfirm();
  }

  function removeJobCard(jobId) {
    const card = document.querySelector(`.job-card[data-id="${jobId}"]`);
    if (card) {
      card.style.transition = 'opacity .25s, transform .25s';
      card.style.opacity    = '0';
      card.style.transform  = 'scale(0.97)';
      setTimeout(() => {
        card.remove();
        updateJobCounters();
        // Show empty state if no cards left
        const remaining = document.querySelectorAll('#job-cards-container .job-card').length;
        if (remaining === 0) {
          document.getElementById('job-cards-container').innerHTML = `
            <div class="empty-state" style="grid-column:1/-1">
              <div class="empty-state-icon">📋</div>
              <div class="empty-state-title">No job postings yet</div>
              <div class="empty-state-sub">Click "New Job Post" to create your first listing</div>
            </div>`;
        }
      }, 280);
    }
  }

  function updateJobCounters() {
    const cards  = document.querySelectorAll('#job-cards-container .job-card');
    let total = 0, open = 0, draft = 0, closed = 0;
    cards.forEach(c => {
      total++;
      if (c.dataset.status === 'open')   open++;
      if (c.dataset.status === 'draft')  draft++;
      if (c.dataset.status === 'closed') closed++;
    });
    const s = id => document.getElementById(id);
    if (s('stat-total'))  s('stat-total').textContent  = total;
    if (s('stat-open'))   s('stat-open').textContent   = open;
    if (s('stat-draft'))  s('stat-draft').textContent  = draft;
    if (s('stat-closed')) s('stat-closed').textContent = closed;
    if (s('tab-count-all'))    s('tab-count-all').textContent    = total;
    if (s('tab-count-open'))   s('tab-count-open').textContent   = open;
    if (s('tab-count-draft'))  s('tab-count-draft').textContent  = draft;
    if (s('tab-count-closed')) s('tab-count-closed').textContent = closed;
  }

  /* ═══════════════════════════════════
     NEW JOB FORM SUBMIT
  ═══════════════════════════════════ */
  document.getElementById('jobForm').addEventListener('submit', function(e) {
    e.preventDefault();

    const formData = {
      job_title:   document.querySelector("[name='job_title']").value,
      company:     document.querySelector("[name='company']").value,
      location:    document.querySelector("[name='location']").value,
      duration:    document.querySelector("[name='duration']").value,
      stipend:     document.querySelector("[name='stipend']").value,
      deadline:    document.querySelector("[name='deadline']").value,
      skills:      document.querySelector("[name='skills']").value,
      description: document.querySelector("[name='description']").value,
      status:      document.querySelector("[name='status']").value,
    };

    fetch('/add_job/', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'X-CSRFToken': document.querySelector('[name=csrfmiddlewaretoken]').value
      },
      body: JSON.stringify(formData)
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        const job = data.job;
        addJobCard(job);
        updateJobCounters();
        document.getElementById('jobForm').reset();
        closeJobForm();
        showToast('Job posting published successfully!');
      }
    })
    .catch(() => {
      // UI-only fallback
      const tempId = 'temp-' + Date.now();
      addJobCardManual(formData, tempId);
      updateJobCounters();
      document.getElementById('jobForm').reset();
      closeJobForm();
      showToast('Job post created (UI only)!');
    });
  });

  function addJobCard(job) {
    const skillsHTML = (job.skills || '').split(',').map(s => `<span class="skill-tag">${s.trim()}</span>`).join('');
    const badgeClass = job.status === 'open' ? 'badge-open' : job.status === 'draft' ? 'badge-draft' : 'badge-closed';
    const statusLabel = job.status ? job.status.charAt(0).toUpperCase() + job.status.slice(1) : 'Open';
    const jobId = job.id || ('temp-' + Date.now());

    const jobHTML = `
    <div class="job-card" data-status="${job.status}" data-id="${jobId}"
         data-title="${job.title || ''}"
         data-company="${job.company_id || ''}"
         data-company-name="${job.company || ''}"
         data-location="${job.location || ''}"
         data-duration="${job.duration || ''}"
         data-stipend="${job.stipend || ''}"
         data-deadline="${job.deadline || ''}"
         data-skills="${job.skills || ''}"
         data-description="${job.description || ''}"
         data-status-val="${job.status}">
      <div class="job-card-header">
        <div>
          <div class="job-card-title">${job.title || ''}</div>
          <div class="job-card-company">${job.company || ''}</div>
        </div>
        <span class="job-status-badge ${badgeClass}">${statusLabel}</span>
      </div>
      <div class="job-meta-row">
        <span class="job-meta-item"> ${job.location || ''}</span>
        <span class="job-meta-item"> ${job.duration || ''}</span>
        <span class="job-meta-item"> ${job.stipend || ''}</span>
      </div>
      <div class="job-skills-row">${skillsHTML}</div>
      <div class="job-card-footer">
        <div class="job-apps-count"><strong>0</strong> Applications</div>
        <div style="display:flex;gap:6px;align-items:center">
          <div class="edit-dropdown-wrap" id="dropdown-${jobId}">
            <button class="btn btn-ghost" style="height:28px;padding:0 10px;font-size:10px;display:flex;align-items:center;gap:5px"
              onclick="event.stopPropagation();toggleEditDropdown('${jobId}')">
              Edit <svg width="9" height="9" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5"><path stroke-linecap="round" d="M19 9l-7 7-7-7"/></svg>
            </button>
            <div class="edit-dropdown-menu">
              <button class="edit-dropdown-item" onclick="event.stopPropagation();openEditForm('${jobId}')">
                <svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg>
                Edit Details
              </button>
              <button class="edit-dropdown-item" onclick="event.stopPropagation();closeJobToStatus('${jobId}')">
                <svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"/></svg>
                Close Posting
              </button>
              <div class="edit-dropdown-divider"></div>
              <button class="edit-dropdown-item delete" onclick="event.stopPropagation();openDeleteConfirm('${jobId}','${job.title || ''}')">
                <svg width="13" height="13" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><polyline points="3 6 5 6 21 6"/><path stroke-linecap="round" d="M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6m5 0V4a1 1 0 011-1h2a1 1 0 011 1v2"/></svg>
                Delete Posting
              </button>
            </div>
          </div>
          <button class="btn btn-dark" style="height:28px;padding:0 10px;font-size:10px"
            onclick="event.stopPropagation();showPage('jobapps', document.querySelectorAll('.nav-item')[5])">
            View Apps
          </button>
        </div>
      </div>
    </div>`;

    // Remove empty state if present
    const emptyMsg = document.getElementById('empty-jobs-msg');
    if (emptyMsg) emptyMsg.remove();

    document.getElementById('job-cards-container').insertAdjacentHTML('afterbegin', jobHTML);
  }

  function addJobCardManual(formData, jobId) {
    const companySelect = document.querySelector("[name='company']");
    const companyName = companySelect.options[companySelect.selectedIndex]?.text || '';
    addJobCard({
      id: jobId,
      title: formData.job_title,
      company: companyName,
      company_id: formData.company,
      location: formData.location,
      duration: formData.duration,
      stipend: formData.stipend,
      deadline: formData.deadline,
      skills: formData.skills,
      description: formData.description,
      status: formData.status,
    });
  }

  /* ═══════════════════════════════════
     TOAST NOTIFICATION
  ═══════════════════════════════════ */
  function showToast(message, isError = false) {
    // Remove existing toast
    const existing = document.getElementById('toast-notif');
    if (existing) existing.remove();

    const toast = document.createElement('div');
    toast.id = 'toast-notif';
    toast.style.cssText = `
      position:fixed; bottom:28px; right:28px; z-index:9999;
      background:${isError ? 'var(--danger)' : 'var(--black)'}; color:var(--white);
      padding:12px 20px; font-size:13px; font-weight:600;
      font-family:'DM Sans',sans-serif; box-shadow:0 8px 24px rgba(0,0,0,.2);
      animation:toastIn .25s ease both;
      display:flex; align-items:center; gap:10px; max-width:320px;
    `;
    toast.innerHTML = `
      <svg width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2.5">
        ${isError ? '<path stroke-linecap="round" d="M6 18L18 6M6 6l12 12"/>' : '<path stroke-linecap="round" d="M5 13l4 4L19 7"/>'}
      </svg>
      ${message}`;

    document.body.appendChild(toast);

    const style = document.createElement('style');
    style.textContent = '@keyframes toastIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}';
    document.head.appendChild(style);

    setTimeout(() => {
      toast.style.animation = 'none';
      toast.style.opacity = '0';
      toast.style.transform = 'translateY(12px)';
      toast.style.transition = 'opacity .25s, transform .25s';
      setTimeout(() => toast.remove(), 280);
    }, 3000);
  }

  /* ═══════════════════════════════════
     RANK LIST
  ═══════════════════════════════════ */
  const rankData = [
    { name:'Priya Nair', init:'PN', course:'IT · 2nd Year', role:'Frontend Dev', company:'Google India', score:94, bg:'var(--mid)' },
    { name:'Arun Kumar', init:'AK', course:'CS · 3rd Year', role:'ML Engineer', company:'Microsoft', score:87, bg:'var(--black)' },
    { name:'Meena Raj', init:'MR', course:'CS · 4th Year', role:'Backend Dev', company:'Amazon', score:82, bg:'var(--light)', col:'var(--black)' },
    { name:'Ravi Shankar', init:'RS', course:'DS · 3rd Year', role:'Data Analyst', company:'TCS', score:79, bg:'var(--subtle)' },
    { name:'Sanjay T.', init:'ST', course:'CS · 3rd Year', role:'ML Engineer', company:'Microsoft', score:71, bg:'var(--dark)' },
    { name:'Kiran Patel', init:'KP', course:'AI · 2nd Year', role:'Full Stack Dev', company:'Wipro', score:68, bg:'var(--ghost)', col:'var(--muted)' },
  ];

  function renderRankList() {
    const container = document.getElementById('ranklist-container');
    if (!container) return;
    const medals = ['gold','silver','bronze'];
    container.innerHTML = rankData.map((r, i) => `
      <div class="rank-card" onclick="openModal('${r.name}','${r.init}','${r.name.toLowerCase().replace(' ','')}@college.edu','${r.course.split(' · ')[0]}','${r.role} Intern','${r.company}','Jan 2025','${r.score}%',['Python','ML'],'pending')">
        <div class="rank-num ${medals[i] || ''}">${i + 1}</div>
        <div class="stu-avatar" style="background:${r.bg};color:${r.col || 'var(--white)'}">${r.init}</div>
        <div class="rank-bar-wrap">
          <div style="display:flex;justify-content:space-between;align-items:baseline">
            <div><div class="app-student-name">${r.name}</div><div class="app-student-meta">${r.course} · ${r.role} at ${r.company}</div></div>
          </div>
          <div class="rank-bar-track"><div class="rank-bar-fill" style="width:${r.score}%"></div></div>
        </div>
        <div style="text-align:right;flex-shrink:0">
          <div class="rank-score">${r.score}%</div>
          <div class="rank-score-lbl">Match</div>
        </div>
        ${i < 3 ? `<button class="btn btn-dark" style="height:30px;padding:0 12px;font-size:11px;flex-shrink:0" onclick="event.stopPropagation()">Shortlist</button>` : `<button class="btn btn-ghost" style="height:30px;padding:0 12px;font-size:11px;flex-shrink:0" onclick="event.stopPropagation()">Review</button>`}
      </div>
    `).join('');
  }

  /* ═══════════════════════════════════
     SOCIAL CARDS
  ═══════════════════════════════════ */
  const socialData = [
    { platform:'linkedin', platformName:'LinkedIn', content:'🚀 InternHub is hiring! We\'re looking for a talented ML Engineer Intern for a 6-month role at Microsoft (Hybrid, Bangalore). Skills needed: Python, ML, TensorFlow. Apply today! #Internship #ML #Microsoft', date:'Feb 18, 2025', likes:142, reposts:38, status:'posted' },
    { platform:'twitter', platformName:'Twitter/X', content:'📢 New opportunity! Frontend Developer Intern @ Google India — Remote | 3-6 months | React, JavaScript, CSS Apply via InternHub 👉 Apply now #FrontendDev #Google #Internship', date:'Feb 17, 2025', likes:89, reposts:22, status:'posted' },
    { platform:'instagram', platformName:'Instagram', content:'🎓 Exciting Internship Alert! Data Analyst Intern at TCS Mumbai. If you\'re skilled in Python & SQL — this is for you! 3-month paid internship. Link in bio to apply via InternHub.', date:'Feb 16, 2025', likes:203, reposts:0, status:'posted' },
    { platform:'linkedin', platformName:'LinkedIn', content:'🔔 Backend Developer Intern opportunity at Amazon Bangalore! Django, Python, REST API skills required. 4-6 months | ₹18,000/month. Apply now through InternHub!', date:'Feb 22, 2025 · 10:00 AM', likes:0, reposts:0, status:'scheduled' },
    { platform:'twitter', platformName:'Twitter/X', content:'💼 DevOps Internship coming soon! Stay tuned for opportunities at Wipro Hyderabad. Follow us for updates. #DevOps #Internship #InternHub', date:'—', likes:0, reposts:0, status:'draft' },
  ];

  function renderSocialCards(filter='all') {
    const container = document.getElementById('social-cards-container');
    if (!container) return;
    const filtered = filter === 'all' ? socialData : socialData.filter(p => p.platform === filter);
    container.innerHTML = filtered.map(p => `
      <div class="social-post-card">
        <div class="social-post-header">
          <div class="social-platform-icon platform-${p.platform}">${p.platform === 'linkedin' ? 'in' : p.platform === 'twitter' ? 'X' : '📷'}</div>
          <div><div class="social-platform-name">${p.platformName}</div></div>
          <span class="social-post-date">${p.date}</span>
        </div>
        <div class="social-post-body">${p.content}</div>
        <div class="social-post-footer">
          <div class="social-stats">
            <span class="social-stat">
              <svg width="11" height="11" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg>
              <strong>${p.likes}</strong>
            </span>
            ${p.platform !== 'instagram' ? `<span class="social-stat"><svg width="11" height="11" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg><strong>${p.reposts}</strong></span>` : ''}
          </div>
          <div style="display:flex;align-items:center;gap:8px">
            <span class="social-status-badge ${p.status === 'posted' ? 'posted' : p.status === 'scheduled' ? 'scheduled-post' : 'draft-post'}">${p.status}</span>
            ${p.status !== 'posted' ? `<button class="btn btn-dark" style="height:26px;padding:0 10px;font-size:10px">Post Now</button>` : `<button class="btn btn-ghost" style="height:26px;padding:0 10px;font-size:10px">Edit</button>`}
          </div>
        </div>
      </div>
    `).join('');
  }

  function filterSocial(tab, platform) {
    document.querySelectorAll('#page-social .tab').forEach(t => t.classList.remove('active'));
    tab.classList.add('active');
    renderSocialCards(platform);
  }

  /* ═══════════════════════════════════
     FORM MODAL HELPERS
  ═══════════════════════════════════ */
  function openJobForm() {
    document.getElementById('job-form-overlay').classList.add('open');
    document.body.style.overflow = 'hidden';
  }
  function closeJobForm() {
    document.getElementById('job-form-overlay').classList.remove('open');
    document.body.style.overflow = '';
  }
  function openInterviewForm() {
    document.getElementById('interview-form-overlay').classList.add('open');
    document.body.style.overflow = 'hidden';
  }
  function closeInterviewForm() {
    document.getElementById('interview-form-overlay').classList.remove('open');
    document.body.style.overflow = '';
  }
  function submitInterviewForm() {
    showToast('Interview scheduled! Confirmation email sent to candidate.');
    closeInterviewForm();
  }
  function openSocialForm() {
    document.getElementById('social-form-overlay').classList.add('open');
    document.body.style.overflow = 'hidden';
  }
  function closeSocialForm() {
    document.getElementById('social-form-overlay').classList.remove('open');
    document.body.style.overflow = '';
  }
  function submitSocialForm() {
    showToast('Post published successfully!');
    closeSocialForm();
  }

  /* ═══════════════════════════════════
     KEYBOARD SHORTCUT
  ═══════════════════════════════════ */
  document.addEventListener('keydown', e => {
    if (e.key === 'Escape') {
      closeModal();
      closeJobForm();
      closeEditForm();
      closeDeleteConfirm();
      closeInterviewForm();
      closeSocialForm();
      closeAllDropdowns();
    }
  });

</script>
</body>
</html>